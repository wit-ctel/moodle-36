!function($){$(window).on("load",function(){function enableEditingText(i){$("#tabs-"+i+" .editable_date, #tabs-"+i+" .editable_text").editable("enable")}function disableEditingText(i){$("#tabs-"+i+" .editable_date, #tabs-"+i+" .editable_text").editable("disable")}function getLoadingGif(){var i='<div class="loading_gif"></div>';$("#cboxOverlay").after(i);var e=$(window).scrollTop()+$(window).height()/2;$(".loading_gif").css("top",e+"px")}function hideLoadingGif(){$(".loading_gif").remove()}function getSubmissions(table,assignment_id,part_id,start,refresh_requested,total){$.ajax({dataType:"json",type:"POST",url:"ajax.php",async:!0,data:{action:"get_submissions",assignment:assignment_id,part:part_id,start:start,refresh_requested:refresh_requested[part_id],sesskey:M.cfg.sesskey,total:total},success:function(result){if(eval(result),start=result.end,result.aaData.length>0&&table.fnAddData(result.aaData),result.end<result.total)getSubmissions(table,assignment_id,part_id,start,refresh_requested,result.total);else{$("#"+part_id+"_processing").attr("style","visibility: hidden"),refresh_requested[part_id]=0;var allrefreshed=1;$.each(refresh_requested,function(i,e){1==e&&(allrefreshed=0)}),1==allrefreshed&&($(".refreshing_link").hide(),$(".refresh_link").show()),submitVisibility(),enableEditingText(part_id),result.nonsubmitters>0&&$(".nonsubmitters_link").attr("style","display: block")}},error:function(i,e){$("#"+part_id+"_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.tiisubmissionsgeterror)}})}function submitVisibility(){1==$(".upload_box").data("user-type")||1==$(".upload_box").data("eula")?$(".upload_box").show():$(".upload_box").hide()}function refreshRubricSelect(){var i=$("#id_rubric").length?"#id_rubric":"#id_plagiarism_rubric",e=$(i).val();$.ajax({dataType:"json",type:"POST",url:"../mod/turnitintooltwo/ajax.php",data:{action:"refresh_rubric_select",assignment:$('input[name="instance"]').val(),modulename:$('input[name="modulename"]').val(),course:$('input[name="course"]').val()},success:function(t){$($(i)).empty();var s=t;$.each(s,function(e,t){if($.isNumeric(e)||""===e)$($(i)).append($("<option>",{value:e,text:t}));else{var s=$("<optgroup>");s.attr("label",e),$.each(t,function(i,e){var t=$("<option></option>");t.val(i),t.text(e),s.append(t)}),$(i).append(s)}}),$(i+' option[value="'+e+'"]').attr("selected","selected")}})}function refreshUserMessages(){$(".messages_loading").show(),$(".messages_amount").html(""),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"refresh_user_messages",assignment:$("#assignment_id").html()},success:function(i){$(".messages_loading").hide(),$(".messages_amount").html(i)}})}function resetPeermarkSection(i){$("#tabs-"+i+" .toggle_peermarks").hide(),$("#tabs-"+i+" .peermark_count").html(""),$("#tabs-"+i+" .peermark-loading").show(),$("#tabs-"+i+" .peermark_assignments_container").hide()}function refreshPeermarkAssignments(part_id,refresh_requested){var user_role=$(".tii_peermark_manager_launch").length>0?"Instructor":"Learner";$("#tabs-"+part_id+" .peermark_assignments_container").length>0&&(resetPeermarkSection(part_id),$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"refresh_peermark_assignments",assignment:$("#assignment_id").html(),part:part_id,refresh_requested:refresh_requested,sesskey:M.cfg.sesskey},success:function(data){eval(data),$("#tabs-"+part_id+" .peermark_assignments_container").html(data.peermark_table),$("#tabs-"+part_id+" .peermark-loading").hide(),$("#tabs-"+part_id+" .peermark_count").html(data.no_of_peermarks),data.no_of_peermarks>0?$("#tabs-"+part_id+" .toggle_peermarks").show():$("#tabs-"+part_id+" .toggle_peermarks").hide(),(data.no_of_peermarks>0&&"Instructor"==user_role||data.peermarks_active&&"Learner"==user_role)&&$("#tabs-"+part_id+" .row_peermark_reviews").show(),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())&&data.no_of_peermarks>0?($(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())}}))}function initialiseUnanoymiseForm(scope,assignment_id,submission_id){var identifier="a.unanonymise";"row"==scope&&(identifier="#submission_"+submission_id),$(identifier).colorbox({inline:!0,width:"50%",top:"100px",height:"260px",opacity:"0.7",className:"tii_unanonymise_reveal_form",onComplete:function(){var idStr=$(this).attr("id").split("_");if(0==submission_id||void 0==submission_id)var submission_id=idStr[1];0==assignment_id&&(assignment_id=$("#assignment_id").html()),$("#submission_id").html(submission_id),$("#cboxLoadedContent .unanonymise_form").show(),$("#id_reveal").unbind("click"),$("#id_reveal").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"reveal_submission_name",assignment:assignment_id,submission_id:submission_id,reason:encodeURIComponent($("#id_anonymous_reveal_reason").val()),sesskey:M.cfg.sesskey},success:function(data){if(eval(data),"success"==data.status)$.colorbox.close(),$("#submission_"+submission_id).attr("href",M.cfg.wwwroot+"/user/view.php?id="+data.userid+"&course="+data.courseid),$("#submission_"+submission_id).html(data.name),$("#submission_"+submission_id).removeClass("unanonymise cboxElement");else{var current_msg=$("#unanonymise_desc").html;$("#unanonymise_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".unanonymise_form").hide()}})}function initialiseUploadBox(i,e,t,s){var a=".upload_box";"row"==i&&(a="#upload_"+e+"_"+t+"_"+s);var n="80%",o="80%";$(a).colorbox({onLoad:function(){getLoadingGif(),lightBoxCloseButton(),$(this).hide()},onClosed:function(){hideLoadingGif()},onCleanup:function(){hideLoadingGif();var i=$(this).attr("id").split("_");refreshInboxRow("upload",i[1],i[2],i[3]),$("#tii_close_bar").remove()},iframe:!0,width:n,height:o,opacity:"0.7",className:"upload",transition:"none"})}function initialiseZipDownloads(i){$("#tabs-"+i+" .orig_zip_open, #tabs-"+i+" .pdf_zip_open, #tabs-"+i+" .xls_inbox_open").unbind("click"),$("#tabs-"+i+" .orig_zip_open, #tabs-"+i+" .pdf_zip_open, #tabs-"+i+" .xls_inbox_open").click(function(){var i=$(this).attr("id").split("_");downloadZipFile(i[0]+"_"+i[1],i[2])}),$("#tabs-"+i+" .downloadpdf_box").colorbox({iframe:!0,width:"40%",height:"60%",opacity:"0.7",className:"downloadpdf_window",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),$(document).on("click","#tabs-"+i+" .gmpdfzip_box",function(e){return $(this).colorbox({open:!0,iframe:!0,width:"786px",height:"300px",opacity:"0.7",className:"gmpdfzip_window",transition:"none",href:function(){var e="";return $("#tabs-"+i+" .inbox_checkbox:checked").each(function(i){e+="&submission_id"+i+"="+$(this).val(),i++}),$(this).attr("href")+e},onLoad:function(){getLoadingGif()},onCleanup:function(){hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),!1})}function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="jQuery(\'#cboxClose\').click(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}function initialiseDigitalReceipt(){$(".tii_digital_receipt").length>0&&$(".tii_digital_receipt").colorbox({iframe:!0,width:"832px",height:"482px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}})}function initialiseHiddenZipDownloads(i){$("#tabs-"+i+" .origchecked_zip_open").unbind("click"),$("#tabs-"+i+" .origchecked_zip_open").click(function(){var e=$(this).attr("id").split("_");return downloadZipFile(e[0]+"_"+e[1],i),!1})}function initialiseRefreshRow(i,e,t,s){var a=".refresh_row .fa-refresh";"row"==i&&(a="#refreshrow_"+e+"_"+t+"_"+s+" .fa-refresh"),$(a).unbind("click"),$(a).click(function(){$(this).hide(),$(this).siblings(".fa-spinner").css("display","inline-block").addClass("fa-lg");var i=$(this).parent().attr("id").split("_");refreshInboxRow(i[0],i[1],i[2],i[3])})}function initialiseDVLaunchers(i,e,t,s){var a="#"+t+" .download_original_open";"row"==i&&(a="#downloadoriginal_"+e+"_"+t+"_"+s),$(a).unbind("click"),$(a).click(function(){var i=$(this).attr("id").split("_");$(this).children(".score_colour").hasClass("score_colour_")||downloadOriginalFile(i[0],i[1],i[2],i[3])})}function downloadZipFile(i,e){var t=[];"origchecked_zip"!=i&&"gmpdf_zip"!=i||$("#tabs-"+e+" .inbox_checkbox:checked").each(function(i){t[i]=$(this).val()}),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:i,assignment:$("#assignment_id").html(),part:e,submission_ids:t},success:function(t){$("#"+i+"_form_"+e).html(t),$("#"+i+"_form_"+e).children("form").submit(),$("#"+i+"_form_"+e).html("")}})}function downloadOriginalFile(i,e,t,s){$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"html",data:{action:i,submission:e,assignment:$("#assignment_id").html()},success:function(t){$("#"+i+"_form_"+e).html(t),$("#"+i+"_form_"+e).children("form").submit(),$("#"+i+"_form_"+e).html("")}})}function checkDVClosed(i){window.dvWindow.closed?$("#refresh_"+i).click():setTimeout(function(){checkDVClosed(i)},500)}function submitNothing(user_id,part_id){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-spin fa-spinner fa-lg"),$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"submit_nothing",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){eval(data),$.cookie("submitnothingaccept",!0,{expires:365}),$("table#"+part_id+" .select_all_checkbox").attr("checked",!1)},error:function(i){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-pencil fa-lg"),$("#submitnothing_0_"+part_id+"_"+user_id).removeClass("disabled"),alert(i.responseText)},complete:function(){refreshInboxRow("submitnothing",0,part_id,user_id)}})}function refreshInboxRow(link,submission_id,part_id,user_id){$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"refresh_submission_row",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){$("table#"+part_id+" .select_all_checkbox").attr("checked",!1),eval(data);var i=0;0==submission_id?(link+="_0",submission_id=data.submission_id):link=null==data.submission_id&&0!=submission_id?link+"_"+submission_id:link+"_"+data.submission_id,0!=submission_id&&$("#export_links").removeClass("hidden_class"),oTable=$("table#"+part_id).dataTable();var tr=$("#"+link+"_"+part_id+"_"+user_id).parent().parent(),rowindex=tr.index();oTable.fnDeleteRow(tr),oTable.fnAddData(data.row),submitVisibility(),initialiseUploadBox("row",data.submission_id,part_id,user_id),initialiseDVLaunchers("row",data.submission_id,part_id,user_id),initialiseRefreshRow("row",data.submission_id,part_id,user_id),initialiseCheckboxes(data.submission_id,part_id),initialiseUnanoymiseForm("row",$("#assignment_id").html(),data.submission_id)}})}function initialiseCheckboxes(i,e){var t="#tabs-"+e+" .inbox_checkbox";0!=i&&(t="check_"+i),$("#tabs-"+e+" .inbox_checkbox").click(function(){$("table#"+e+" .select_all_checkbox").attr("checked",!1)}),$(document).on("click",t+", .select_all_checkbox",function(){$("#tabs-"+e+" .inbox_checkbox:checked").length>0?($("#tabs-"+e+" .zip_downloads").slideDown(),initialiseHiddenZipDownloads(e)):($("#tabs-"+e+" .origchecked_zip_open").unbind("click"),$("#tabs-"+e+" .zip_downloads").slideUp())})}function showPartDatesBoxes(){for(var i=0;i<=5;i++)i<=$("#id_numparts").val()?$('fieldset[id$="partdates'+i+'"]').slideDown():$('fieldset[id$="partdates'+i+'"]').slideUp()}if($(".js_required").show(),$(".js_hide").hide(),1==$("#id_submissiontype").val()&&$("#id_submissiontext").parent().parent().hide(),2==$("#id_submissiontype").val()&&$("#id_submissionfile").parent().parent().hide(),$("#id_submissionagreement").length&&$("#id_submitbutton").attr("disabled","disabled"),$("#id_submissionagreement").on("click",function(){$(this).is(":checked")?$("#id_submissionagreement").each(function(){$("#id_submitbutton").removeAttr("disabled")}):$("#id_submissionagreement").each(function(){$("#id_submitbutton").attr("disabled","disabled")})}),$(document).on("click",".delete_paper",function(){var i=$(this).data("confirm"),e=M.str.turnitintooltwo[i].replace(/\\n/g,"\n"),t=confirm(e);t&&$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"deletesubmission",sesskey:M.cfg.sesskey,paper:$(this).data("paper"),part:$(this).data("part"),assignment:$(this).data("assignment")},success:function(){window.location.href=window.location.href}})}),$(document).on("click",".submit_nothing",function(){if(!$(this).hasClass("disabled")){$(this).addClass("disabled");var i=$(this).prop("id").split("_")[2],e=$(this).prop("id").split("_")[3],t=M.str.turnitintooltwo.submitnothingwarning.replace(/<br>/g,"\n").replace(/&#39;/g,"'"),s=$.cookie("submitnothingaccept");s||confirm(t)?submitNothing(e,i):$(this).removeClass("disabled")}}),$(document).on("change","#id_submissiontype",function(){1==$("#id_submissiontype").val()&&($("#id_submissiontext").parent().parent().hide(),$("#id_submissionfile").parent().parent().show()),2==$("#id_submissiontype").val()&&($("#id_submissionfile").parent().parent().hide(),$("#id_submissiontext").parent().parent().show())}),$(document).on("submit",".submission_form_container form",function(){return $("#id_submissiontitle").val().length>0&&($("#general").slideUp("slow"),$(".mod_turnitintooltwo .noticebox").slideUp("slow"),$(".submission_form_container form").slideUp("slow"),$("#submitting_loader").slideDown("slow"),!0)}),$(".toggle_summary").length>0&&($.cookie("show_summary_"+$("#assignment_id").html())||$.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_summary_"+$("#assignment_id").html())?($(".hide_summary_"+$("#assignment_id").html()).show(),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideDown()):($(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp()),$(".toggle_summary i").click(function(){$(this).hasClass("show_summary_"+$("#assignment_id").html())?($.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".hide_summary_"+$("#assignment_id").html()).show(),$(".introduction").slideDown()):($.cookie("show_summary_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp())})),$(".toggle_peermarks").length>0&&($.cookie("show_peermarks_"+$("#assignment_id").html())||$.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())?($(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp()),$(".toggle_peermarks i").click(function(){$(this).hasClass("show_peermarks_"+$("#assignment_id").html())?($.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($.cookie("show_peermarks_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())})),$(document).on("click",".show_peermark_instructions, .hide_peermark_instructions",function(){var i=$(this).attr("id").split("_");"show"==i[0]?($("#show_peermark_instructions_"+i[3]).hide(),$("#hide_peermark_instructions_"+i[3]).show(),$("#peermark_instructions_"+i[3]).slideDown()):($("#show_peermark_instructions_"+i[3]).show(),$("#hide_peermark_instructions_"+i[3]).hide(),$("#peermark_instructions_"+i[3]).slideUp())}),showPartDatesBoxes(),$(document).on("change","#id_numparts",function(){showPartDatesBoxes()}),$(document).on("click",".splitter-lastname, .splitter-firstname",function(i){var e=$(i.target),t=e.hasClass("sorting_asc"),s="asc",a="desc",n=e.attr("data-col");t||(s="desc",a="asc"),e.closest(".submissionsDataTable").DataTable().order([n,a]).draw(),e.addClass("sorting_"+a).removeClass("sorting sorting_"+s),e.parent().removeClass("sorting sorting_asc sorting_desc"),e.siblings().removeClass("sorting_asc sorting_desc").addClass("sorting")}),$("#dataTable").length>0&&$("#dataTable").dataTable(),"undefined"!=typeof M.str.turnitintooltwo)var dataTablesLang={sProcessing:'<span class="loading-message">'+M.str.turnitintooltwo.sprocessing+"</span>",sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};if($("#tabs").length>0){var activeTab=0;$("#tab_position").length>0&&(activeTab=$("#tab_position").text()),$("#tabs").tabs({active:activeTab,show:function(){var i=$.fn.dataTable.fnTables(!0);i.length>0&&$(i).dataTable().fnAdjustColumnSizing()}})}$(".enrolledMembers").length>0&&$(".enrolledMembers").dataTable({bProcessing:!0,sAjaxSource:"ajax.php",aoColumnDefs:[{bSortable:!1,sClass:"centered_cell",aTargets:[0]},{sClass:"left",aTargets:[1]}],oLanguage:dataTablesLang,fnServerData:function(i,e,t){$.ajax({dataType:"json",type:"POST",url:i,data:{action:"get_members",assignment:$("#assignment_id").html(),role:$("#user_role").html()},success:function(i){t(i)},error:function(i,e){$(".dataTables_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.membercheckerror)}})}});var submissionsDataTableColumns=[],visibleCols=[],noOfColumns=$("table.submissionsDataTable th").length/$("table.submissionsDataTable").length,notStudentView=$("table.submissionsDataTable th.sorting_name").length>0,showOrigReport=$("table.submissionsDataTable th.creport").length>0,useGradeMark=$("table.submissionsDataTable th.cgrade").length>0,multipleParts=$("table.submissionsDataTable th.coverallgrade").length>0;if(notStudentView)for(var i=0;i<noOfColumns;i++)3==i?(submissionsDataTableColumns.push({sType:"string",bSortable:!1}),visibleCols.push(!0)):2==i?(submissionsDataTableColumns.push({sType:"string",bSortable:!1,bVisible:!1}),visibleCols.push(!1)):5==i?(submissionsDataTableColumns.push({iDataSort:i-1,sType:"string"}),visibleCols.push(!0)):6==i?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):8==i||10==i&&showOrigReport||10==i&&!showOrigReport||12==i&&useGradeMark?(submissionsDataTableColumns.push({sClass:"right",iDataSort:i-1,sType:"numeric"}),visibleCols.push(!0)):13==i&&showOrigReport||12==i&&!showOrigReport?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):1==i||i>=9&&!showOrigReport&&!useGradeMark||i>=11&&(!showOrigReport&&useGradeMark||showOrigReport&&!useGradeMark)||i>=13&&showOrigReport&&useGradeMark?(submissionsDataTableColumns.push({sClass:"center",bSortable:!1}),visibleCols.push(!0)):(0==i||4==i||7==i||9==i&&showOrigReport||9==i&&!showOrigReport||11==i&&useGradeMark)&&(submissionsDataTableColumns.push({bVisible:!1}),visibleCols.push(!1));else for(var i=0;i<noOfColumns;i++)2==i?(submissionsDataTableColumns.push(null),visibleCols.push(!0)):4==i?(submissionsDataTableColumns.push({iDataSort:i-1,sType:"string"}),visibleCols.push(!0)):5==i?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):7==i||9==i&&showOrigReport||9==i&&!showOrigReport||11==i&&useGradeMark?(submissionsDataTableColumns.push({sClass:"right",iDataSort:i-1,sType:"numeric"}),visibleCols.push(!0)):12==i&&showOrigReport||11==i&&!showOrigReport?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):1==i||i>=8&&!showOrigReport&&!useGradeMark||i>=10&&(!showOrigReport&&useGradeMark||showOrigReport&&!useGradeMark)||i>=12&&showOrigReport&&useGradeMark?(submissionsDataTableColumns.push({sClass:"center",bSortable:!1}),visibleCols.push(!0)):(0==i||3==i||6==i||8==i&&showOrigReport||8==i&&!showOrigReport||10==i&&useGradeMark)&&(submissionsDataTableColumns.push({bVisible:!1}),visibleCols.push(!1));var partTables=[],refreshRequested=[];$("table.submissionsDataTable").each(function(){var i=$(this).attr("id");refreshRequested[i]=0,partTables[i]=$("table#"+i).dataTable({bProcessing:!0,aoColumns:submissionsDataTableColumns,aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],aaSorting:[[2,"asc"],[4,"asc"]],sAjaxSource:"ajax.php",oLanguage:dataTablesLang,sDom:'r<"listbar-container"<"top listbar clearfix"lf>><"dt_pagination clearfix"pi>t<"bottom"><"dt_pagination clearfix"pi>',fnServerData:function(e,t,s){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"initialise_redraw"},success:function(e){disableEditingText(i),s(e),$("#"+i+"_processing").attr("style","visibility: visible"),getSubmissions(partTables[i],$("#assignment_id").html(),i,0,refreshRequested,0)}})},bStateSave:!0,fnStateSave:function(e,t){try{localStorage.setItem(i+"DataTables",JSON.stringify(t))}catch(s){}},fnStateSaveParams:function(i,e){e.abVisCols=visibleCols},fnStateLoad:function(e){try{return JSON.parse(localStorage.getItem(i+"DataTables"))}catch(t){}},fnStateLoadParams:function(i,e){e.abVisCols=visibleCols},fnDrawCallback:function(e){initialiseDigitalReceipt(),initialiseDVLaunchers("all",0,i,0),initialiseRefreshRow("all",0,i,0),initialiseUploadBox("all",0,0,0),initialiseZipDownloads(i),initialiseCheckboxes(0,i),initialiseUnanoymiseForm("all",0,0)}})}),$("table.submissionsDataTable").each(function(){var i=$(this).attr("id");refreshPeermarkAssignments(i,0)}),$(".messages_amount").length>0&&refreshUserMessages(),$(".tii_table_functions").each(function(){var i=$(this).attr("id").split("tii_table_functions_")[1],e=$("#tii_table_functions_"+i).html();$("#tii_table_functions_"+i).remove(),$("#"+i+"_length").after(e),$(".messages_inbox").show(),$("#refresh_"+i).show(),$("#refreshing_"+i).hide()});var zip_downloads=$(".zip_downloads");if($.each(zip_downloads,function(){var i=$(this).attr("id").split("_")[1];$(this).remove(),$("#"+i+"_length").after($(this))}),"Learner"==$("#user_role").html()&&$(".dataTables_length, .dataTables_filter, .dt_pagination").hide(),$(".refresh_link").click(function(){return $(this).is(":visible")&&($(".refresh_link").hide(),$(".refreshing_link").show(),$("table.submissionsDataTable").each(function(){refreshRequested[$(this).attr("id")]=1,partTables[$(this).attr("id")].fnReloadAjax(),partTables[$(this).attr("id")].fnStandingRedraw()})),!1}),$("#turnitin_sync_all_grades").length>0&&$(".turnitin_sync_grades").click(function(){$(".turnitin_sync_grades").hide(),$(".turnitin_syncing_grades").show(),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"sync_all_submissions",assignment:$("#turnitin_sync_all_grades").data("turnitintooltwoid"),sesskey:M.cfg.sesskey},success:function(i){$(".turnitin_sync_grades").show(),$(".turnitin_syncing_grades").hide()}})}),$(".submission_failure_msg").length>0&&window.parent.$(".upload_box").colorbox.resize({width:"800px",height:"240px"}),$(".enrol_link").click(function(){$("#enrolling_error").hide(),$(".enrol_link").hide(),$(".enrolling_container").show(),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"enrol_all_students",assignment:$("#assignment_id").html(),sesskey:M.cfg.sesskey},success:function(i){window.location.href=window.location.href},error:function(i,e){$(".enrol_link").show(),$(".enrolling_container").hide(),$("#enrolling_error").show()}})}),$(".rubric_manager_launch").length>0&&$(".rubric_manager_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){hideLoadingGif(),"rubric_manager_inbox_launch"!=$(this).attr("id")&&refreshRubricSelect(),$("#tii_close_bar").remove()}}),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$("#id_rubric, #id_plagiarism_rubric").mousedown(function(){""!=$('input[name="instance"]').val()&&"Y"!=$('input[name="rubric_warning_seen"]').val()&&confirm(M.str.turnitintooltwo.changerubricwarning)&&$('input[name="rubric_warning_seen"]').val("Y")}),($(".quickmark_manager_launch").length>0||$(".plagiarism_turnitin_quickmark_manager_launch").length>0)&&$(".quickmark_manager_launch, .plagiarism_turnitin_quickmark_manager_launch").colorbox({iframe:!0,width:"770px",height:"600px",opacity:"0.7",className:"quickmark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".tii_peermark_manager_launch").length>0&&$(".tii_peermark_manager_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){var i=$(this).attr("id").split("_");refreshPeermarkAssignments(i[2],1)}}),$(".tii_peermark_reviews_launch").length>0&&$(".tii_peermark_reviews_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_reviews",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".messages_inbox").length>0&&$(".messages_inbox").colorbox({iframe:!0,width:"772px",height:"772px",opacity:"0.7",className:"messages",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmitters_link").length>0&&$(".nonsubmitters_link").colorbox({iframe:!0,width:"740px",height:"540px",opacity:"0.7",className:"nonsubmitters",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmittersformsuccessmsg").length>0&&(hideLoadingGif(),window.parent.$(".nonsubmitters").colorbox.resize({width:"740px",height:"120px"})),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(document).on("click",".default_open, .origreport_open, .grademark_open",function(){var i=!0,e=$(this).attr("id").split("_"),t=$("#date_due_"+e[2]).html(),s=moment(t).unix(),a=e[0],n=e[1],o=e[2];if(s>moment().unix()&&$(this).hasClass("graded_warning")&&(confirm(M.str.turnitintooltwo.resubmissiongradewarn)||(i=!1)),i){dvWindow=window.open("","_blank");var r='<div style="text-align:center;">';r+='<img src="'+M.cfg.wwwroot+'/mod/turnitintooltwo/pix/tiiIcon.svg" style="width:100px; height: 100px">',r+='<p style="font-family: Arial, Helvetica, sans-serif;">'+M.str.turnitintooltwo.loadingdv+"</p>",r+="</div>",$(dvWindow.document.body).html(r),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:a,submission:n,assignment:$("#assignment_id").html()},success:function(i){$(dvWindow.document.body).html(r+i),dvWindow.document.forms[0].submit(),dvWindow.document.close(),checkDVClosed(o)}})}}),$("#id_rubric").length>0&&refreshRubricSelect(),self!=top&&"box"==$("#view_context").html()?$("html").css("background","none"):self!=top&&"box_solid"==$("#view_context").html()&&$("html").css("background","#FFF"),$(".editable_postdue").on("click",function(){1==$(this).data("anon")&&alert(M.str.turnitintooltwo.postdate_warning)}),$(".max_marks_warning").on("click",function(){alert(M.str.turnitintooltwo.max_marks_warning)}),$(".editable_text").length>0){$.fn.editable.defaults.mode="inline",$.fn.editable.defaults.url="ajax.php",$.fn.editable.defaults.onblur="submit",$.fn.editable.defaults.showbuttons=!1,$.fn.editable.defaults.ajaxOptions={dataType:"json"},$(".editable_text").editable({validate:function(i){if($(this).attr("id").indexOf("marks_")>=0&&(Math.floor(i)!=i||!$.isNumeric(i)||i.indexOf(".")!=-1))return M.str.turnitintooltwo.maxmarkserror},success:function(i,e){if(!i.success)return i.msg;if("maxmarks"==i.field)$("#refresh_"+i.partid).click(),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"sync_all_submissions",assignment:$("#assignment_id").html(),sesskey:M.cfg.sesskey}});else if("partname"==i.field){var t=$(this).parentsUntil(".ui-tabs-panel").parent().attr("aria-labelledby");$("#"+t).text(e)}}}),$("#export_options").hasClass("tii_export_options_hide")&&($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')),$(".editable_postdue").on("click",function(){var i=$(this);$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"check_anon",part:i.data("pk"),assignment:$("#assignment_id").html()},success:function(e){i.data("anon",e.anon),i.data("unanon",e.unanon),i.data("submitted",e.submitted)}})});var theDate=new Date;$(".editable_date").editable({type:"combodate",format:"YYYY-MM-DD HH:mm",viewformat:"D MMM YYYY, HH:mm",template:"D MMM YYYY  HH:mm",combodate:{minuteStep:1,minYear:2e3,maxYear:theDate.getFullYear()+2,smartDays:!0},validate:function(i){if(i.format("X")<moment().unix()&&$(this).hasClass("editable_postdue")&&1==$(this).data("anon")&&0==$(this).data("unanon")&&1==$(this).data("submitted")&&!confirm(M.str.turnitintooltwo.disableanonconfirm))return $(".editable-open").editableContainer("hide")," "},success:function(i,e){return i.success?($("#refresh_"+i.partid).click(),void("tii_export_options_hide"==i.export_option?($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')):($(".empty-dash").remove(),$("#export_options").show()))):i.msg}}),$(".editable_date").click(function(){if($(this).hasClass("editable-disabled"))return!1}),$(".editable_date, .editable_text").on("shown",function(i,e){var t=$(this).prop("id");$(".editable_date, .editable_text").not("#"+t).editable("disable"),$(".submit_nothing").addClass("disabled")}),$(".editable_date, .editable_text").on("hidden",function(){var i=$(this).prop("id");$(".editable_date, .editable_text").not("#"+i).editable("enable"),$(".submit_nothing").removeClass("disabled")})}$("#inbox_form form, .launch_form form").submit(),$(".turnitin_eula_link").length>0&&$(".turnitin_eula_link").colorbox({iframe:!0,width:"766px",height:"596px",opacity:"0.7",className:"eula_view",scrolling:"false",onLoad:function(){getLoadingGif()},onComplete:function(){$(window).on("message",function(i){var e="undefined"==typeof i.data?i.originalEvent.data:i.data;"turnitin_eula_declined"!=e&&"turnitin_eula_accepted"!=e||$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"acceptuseragreement",message:e,sesskey:M.cfg.sesskey},success:function(i){window.location.reload()},error:function(i){window.location.reload()}})})},onCleanup:function(){hideLoadingGif()}}),$("#tii_receipt_print").click(function(){window.print()}),$(".select_all_checkbox").on("click",function(){
var i=$(this).parent().parent().parent().parent().attr("id");$(this).is(":checked")?($("#"+i+" .inbox_checkbox").length&&$("#tabs-"+i+" .zip_downloads").slideDown(),$("#"+i+" .inbox_checkbox").each(function(){$(this).prop("checked",!0)})):($("#"+i+" .inbox_checkbox").each(function(){$(this).prop("checked",!1)}),$("#"+i+" .inbox_checkbox").length&&$("#tabs-"+i+" .zip_downloads").slideUp())}),$("[id^=fitem_id_dtpost] select").change(function(){var i=$(this).parent().parent().parent(),e=buildUnixDate("#fitem_id_dtpost",i.data("partId"));e<moment().unix()&&1==i.data("anon")&&0==i.data("unanon")&&1==i.data("submitted")&&alert(M.str.turnitintooltwo.anonalert)});var buildUnixDate=function(i,e){var t=["_day","_month","_year","_hour","_minute"];$this=$(i+e);var s="";return $.each(t,function(i,t){s+=$this.find("[id$="+e+t+"] option:selected").text(),"_year"===t?s+=" ":"_hour"===t?s+=":":"_minute"!==t&&(s+="-")}),moment(s,"DD-MMMM-YYYY hh:mm").unix()}})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3by0yMDE4MTAyNjAxLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aW5kb3ciLCJvbiIsImVuYWJsZUVkaXRpbmdUZXh0IiwicGFydF9pZCIsImVkaXRhYmxlIiwiZGlzYWJsZUVkaXRpbmdUZXh0IiwiZ2V0TG9hZGluZ0dpZiIsImltZyIsImFmdGVyIiwidG9wIiwic2Nyb2xsVG9wIiwiaGVpZ2h0IiwiY3NzIiwiaGlkZUxvYWRpbmdHaWYiLCJyZW1vdmUiLCJnZXRTdWJtaXNzaW9ucyIsInRhYmxlIiwiYXNzaWdubWVudF9pZCIsInN0YXJ0IiwicmVmcmVzaF9yZXF1ZXN0ZWQiLCJ0b3RhbCIsImFqYXgiLCJkYXRhVHlwZSIsInR5cGUiLCJ1cmwiLCJhc3luYyIsImRhdGEiLCJhY3Rpb24iLCJhc3NpZ25tZW50IiwicGFydCIsInNlc3NrZXkiLCJNIiwiY2ZnIiwic3VjY2VzcyIsInJlc3VsdCIsImV2YWwiLCJlbmQiLCJhYURhdGEiLCJsZW5ndGgiLCJmbkFkZERhdGEiLCJhdHRyIiwiYWxscmVmcmVzaGVkIiwiZWFjaCIsImsiLCJ2IiwiaGlkZSIsInNob3ciLCJzdWJtaXRWaXNpYmlsaXR5Iiwibm9uc3VibWl0dGVycyIsImVycm9yIiwicmVzcG9uc2UiLCJodG1sIiwic3RyIiwidHVybml0aW50b29sdHdvIiwidGlpc3VibWlzc2lvbnNnZXRlcnJvciIsInJlZnJlc2hSdWJyaWNTZWxlY3QiLCJydWJyaWNFbGVtZW50SWQiLCJjdXJyZW50UnVicmljIiwidmFsIiwibW9kdWxlbmFtZSIsImNvdXJzZSIsImVtcHR5Iiwib3B0aW9ucyIsImkiLCJpc051bWVyaWMiLCJhcHBlbmQiLCJ2YWx1ZSIsInRleHQiLCJvcHRncm91cCIsImoiLCJydWJyaWMiLCJvcHRpb24iLCJyZWZyZXNoVXNlck1lc3NhZ2VzIiwicmVzZXRQZWVybWFya1NlY3Rpb24iLCJyZWZyZXNoUGVlcm1hcmtBc3NpZ25tZW50cyIsInVzZXJfcm9sZSIsInBlZXJtYXJrX3RhYmxlIiwibm9fb2ZfcGVlcm1hcmtzIiwicGVlcm1hcmtzX2FjdGl2ZSIsImNvb2tpZSIsInNsaWRlRG93biIsInNsaWRlVXAiLCJpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0iLCJzY29wZSIsInN1Ym1pc3Npb25faWQiLCJpZGVudGlmaWVyIiwiY29sb3Jib3giLCJpbmxpbmUiLCJ3aWR0aCIsIm9wYWNpdHkiLCJjbGFzc05hbWUiLCJvbkNvbXBsZXRlIiwiaWRTdHIiLCJ0aGlzIiwic3BsaXQiLCJ1bmRlZmluZWQiLCJ1bmJpbmQiLCJjbGljayIsInJlYXNvbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0YXR1cyIsImNsb3NlIiwid3d3cm9vdCIsInVzZXJpZCIsImNvdXJzZWlkIiwibmFtZSIsInJlbW92ZUNsYXNzIiwiY3VycmVudF9tc2ciLCJtc2ciLCJvbkNsZWFudXAiLCJpbml0aWFsaXNlVXBsb2FkQm94IiwidXNlcl9pZCIsImNvbG9yQm94V2lkdGgiLCJjb2xvckJveEhlaWdodCIsIm9uTG9hZCIsImxpZ2h0Qm94Q2xvc2VCdXR0b24iLCJvbkNsb3NlZCIsInJlZnJlc2hJbmJveFJvdyIsImlmcmFtZSIsInRyYW5zaXRpb24iLCJpbml0aWFsaXNlWmlwRG93bmxvYWRzIiwiZG93bmxvYWRaaXBGaWxlIiwiZG9jdW1lbnQiLCJlIiwib3BlbiIsImhyZWYiLCJzdWJtaXNzaW9uX2lkcyIsImNsb3NlYnV0dG9uIiwiaW5pdGlhbGlzZURpZ2l0YWxSZWNlaXB0IiwiaW5pdGlhbGlzZUhpZGRlblppcERvd25sb2FkcyIsImluaXRpYWxpc2VSZWZyZXNoUm93Iiwic2libGluZ3MiLCJhZGRDbGFzcyIsInBhcmVudCIsImluaXRpYWxpc2VEVkxhdW5jaGVycyIsImNoaWxkcmVuIiwiaGFzQ2xhc3MiLCJkb3dubG9hZE9yaWdpbmFsRmlsZSIsImRvd25sb2FkdHlwZSIsInN1Ym1pdCIsImR2dHlwZSIsInN1Ym1pc3Npb24iLCJjaGVja0RWQ2xvc2VkIiwiZHZXaW5kb3ciLCJjbG9zZWQiLCJzZXRUaW1lb3V0Iiwic3VibWl0Tm90aGluZyIsInVzZXIiLCJleHBpcmVzIiwiYWxlcnQiLCJyZXNwb25zZVRleHQiLCJjb21wbGV0ZSIsImxpbmsiLCJvVGFibGUiLCJkYXRhVGFibGUiLCJ0ciIsInJvd2luZGV4IiwiaW5kZXgiLCJmbkRlbGV0ZVJvdyIsInJvdyIsImluaXRpYWxpc2VDaGVja2JveGVzIiwic2hvd1BhcnREYXRlc0JveGVzIiwiaXMiLCJyZW1vdmVBdHRyIiwiY29uZmlybXN0cm5hbWUiLCJjb25maXJtc3RyIiwicmVwbGFjZSIsImNvbmZpcm1yZXN1bHQiLCJjb25maXJtIiwicGFwZXIiLCJsb2NhdGlvbiIsInByb3AiLCJzdHVkZW50X2lkIiwibWVzc2FnZSIsInN1Ym1pdG5vdGhpbmd3YXJuaW5nIiwiY29va2llc2VlbiIsImV2ZW50Iiwibm9kZSIsInRhcmdldCIsImlzQXNjZW5kaW5nIiwiY3VycmVudHNvcnQiLCJzb3J0YnkiLCJzb3J0Q29sdW1uIiwiY2xvc2VzdCIsIkRhdGFUYWJsZSIsIm9yZGVyIiwiZHJhdyIsImRhdGFUYWJsZXNMYW5nIiwic1Byb2Nlc3NpbmciLCJzcHJvY2Vzc2luZyIsInNaZXJvUmVjb3JkcyIsInN6ZXJvcmVjb3JkcyIsInNJbmZvIiwic2luZm8iLCJzU2VhcmNoIiwic3NlYXJjaCIsInNMZW5ndGhNZW51Iiwic2xlbmd0aG1lbnUiLCJvUGFnaW5hdGUiLCJzTmV4dCIsInNuZXh0Iiwic1ByZXZpb3VzIiwic3ByZXZpb3VzIiwiYWN0aXZlVGFiIiwidGFicyIsImFjdGl2ZSIsImZuIiwiZm5UYWJsZXMiLCJmbkFkanVzdENvbHVtblNpemluZyIsImJQcm9jZXNzaW5nIiwic0FqYXhTb3VyY2UiLCJhb0NvbHVtbkRlZnMiLCJiU29ydGFibGUiLCJzQ2xhc3MiLCJhVGFyZ2V0cyIsIm9MYW5ndWFnZSIsImZuU2VydmVyRGF0YSIsInNTb3VyY2UiLCJhb0RhdGEiLCJmbkNhbGxiYWNrIiwicm9sZSIsIm1lbWJlcmNoZWNrZXJyb3IiLCJzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMiLCJ2aXNpYmxlQ29scyIsIm5vT2ZDb2x1bW5zIiwibm90U3R1ZGVudFZpZXciLCJzaG93T3JpZ1JlcG9ydCIsInVzZUdyYWRlTWFyayIsIm11bHRpcGxlUGFydHMiLCJwdXNoIiwic1R5cGUiLCJiVmlzaWJsZSIsImlEYXRhU29ydCIsInBhcnRUYWJsZXMiLCJyZWZyZXNoUmVxdWVzdGVkIiwiYW9Db2x1bW5zIiwiYUxlbmd0aE1lbnUiLCJhYVNvcnRpbmciLCJzRG9tIiwiYlN0YXRlU2F2ZSIsImZuU3RhdGVTYXZlIiwib1NldHRpbmdzIiwib0RhdGEiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImZuU3RhdGVTYXZlUGFyYW1zIiwiYWJWaXNDb2xzIiwiZm5TdGF0ZUxvYWQiLCJwYXJzZSIsImdldEl0ZW0iLCJmblN0YXRlTG9hZFBhcmFtcyIsImZuRHJhd0NhbGxiYWNrIiwidGlpX3RhYmxlX2Z1bmN0aW9ucyIsInppcF9kb3dubG9hZHMiLCJmblJlbG9hZEFqYXgiLCJmblN0YW5kaW5nUmVkcmF3IiwicmVzaXplIiwibW91c2Vkb3duIiwiY2hhbmdlcnVicmljd2FybmluZyIsImNsb3NlQnV0dG9uIiwicHJvY2VlZCIsImR1ZV9kYXRlIiwiZHVlX2RhdGVfdW5peCIsIm1vbWVudCIsInVuaXgiLCJyZXN1Ym1pc3Npb25ncmFkZXdhcm4iLCJsb2FkaW5nIiwibG9hZGluZ2R2IiwiYm9keSIsImZvcm1zIiwic2VsZiIsInBvc3RkYXRlX3dhcm5pbmciLCJtYXhfbWFya3Nfd2FybmluZyIsImRlZmF1bHRzIiwibW9kZSIsIm9uYmx1ciIsInNob3didXR0b25zIiwiYWpheE9wdGlvbnMiLCJ2YWxpZGF0ZSIsImluZGV4T2YiLCJNYXRoIiwiZmxvb3IiLCJtYXhtYXJrc2Vycm9yIiwibmV3VmFsdWUiLCJmaWVsZCIsInBhcnRpZCIsInRhYklkIiwicGFyZW50c1VudGlsIiwiJHRoaXMiLCJ0aGVEYXRlIiwiRGF0ZSIsImZvcm1hdCIsInZpZXdmb3JtYXQiLCJ0ZW1wbGF0ZSIsImNvbWJvZGF0ZSIsIm1pbnV0ZVN0ZXAiLCJtaW5ZZWFyIiwibWF4WWVhciIsImdldEZ1bGxZZWFyIiwic21hcnREYXlzIiwiZGlzYWJsZWFub25jb25maXJtIiwiZWRpdGFibGVDb250YWluZXIiLCJleHBvcnRfb3B0aW9uIiwiY3VycmVudCIsIm5vdCIsInNjcm9sbGluZyIsImV2Iiwib3JpZ2luYWxFdmVudCIsInJlbG9hZCIsInByaW50IiwiaWQiLCJjaGFuZ2UiLCJkYXRhRWwiLCJwb3N0X2RhdGUiLCJidWlsZFVuaXhEYXRlIiwiYW5vbmFsZXJ0IiwiZWwiLCJkYXRlIiwiZmluZCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBV0EsR0FDUEEsRUFBRUMsUUFBUUMsR0FBRyxPQUFRLFdBMDJCakIsUUFBU0MsbUJBQWtCQyxHQUN2QkosRUFBRSxTQUFXSSxFQUFVLDBCQUE0QkEsRUFBVSxtQkFBbUJDLFNBQVMsVUFJN0YsUUFBU0Msb0JBQW1CRixHQUN4QkosRUFBRSxTQUFXSSxFQUFVLDBCQUE0QkEsRUFBVSxtQkFBbUJDLFNBQVMsV0FHN0YsUUFBU0UsaUJBQ0wsR0FBSUMsR0FBTSxpQ0FDVlIsR0FBRSxnQkFBZ0JTLE1BQU1ELEVBQ3hCLElBQUlFLEdBQU1WLEVBQUVDLFFBQVFVLFlBQWVYLEVBQUVDLFFBQVFXLFNBQVcsQ0FDeERaLEdBQUUsZ0JBQWdCYSxJQUFJLE1BQU9ILEVBQU0sTUFHdkMsUUFBU0ksa0JBQ0xkLEVBQUUsZ0JBQWdCZSxTQUd0QixRQUFTQyxnQkFBZUMsTUFBT0MsY0FBZWQsUUFBU2UsTUFBT0Msa0JBQW1CQyxPQUM3RXJCLEVBQUVzQixNQUNFQyxTQUFZLE9BQ1pDLEtBQVEsT0FDUkMsSUFBTyxXQUNQQyxPQUFTLEVBQ1RDLE1BQ0lDLE9BQVEsa0JBQW1CQyxXQUFZWCxjQUFlWSxLQUFNMUIsUUFBU2UsTUFBT0EsTUFDNUVDLGtCQUFtQkEsa0JBQWtCaEIsU0FBVTJCLFFBQVNDLEVBQUVDLElBQUlGLFFBQVNWLE1BQU9BLE9BRWxGYSxRQUFXLFNBQVVDLFFBUWpCLEdBUEFDLEtBQUtELFFBQ0xoQixNQUFRZ0IsT0FBT0UsSUFFWEYsT0FBT0csT0FBT0MsT0FBUyxHQUN2QnRCLE1BQU11QixVQUFVTCxPQUFPRyxRQUd2QkgsT0FBT0UsSUFBTUYsT0FBT2QsTUFDcEJMLGVBQWVDLE1BQU9DLGNBQWVkLFFBQVNlLE1BQU9DLGtCQUFtQmUsT0FBT2QsV0FDNUUsQ0FDSHJCLEVBQUUsSUFBTUksUUFBVSxlQUFlcUMsS0FBSyxRQUFTLHNCQUUvQ3JCLGtCQUFrQmhCLFNBQVcsQ0FDN0IsSUFBSXNDLGNBQWUsQ0FFbkIxQyxHQUFFMkMsS0FBS3ZCLGtCQUFtQixTQUFVd0IsRUFBR0MsR0FDMUIsR0FBTEEsSUFDQUgsYUFBZSxLQUlILEdBQWhCQSxlQUNBMUMsRUFBRSxvQkFBb0I4QyxPQUN0QjlDLEVBQUUsaUJBQWlCK0MsUUFHdkJDLG1CQUVBN0Msa0JBQWtCQyxTQUdkK0IsT0FBT2MsY0FBZ0IsR0FDdkJqRCxFQUFFLHVCQUF1QnlDLEtBQUssUUFBUyxvQkFJbkRTLE1BQVMsU0FBVXZCLEVBQU13QixHQUNyQm5ELEVBQUUsSUFBTUksUUFBVSxlQUFlcUMsS0FBSyxRQUFTLHNCQUMvQ3pDLEVBQUUscUJBQXFCb0QsS0FBS3BCLEVBQUVxQixJQUFJQyxnQkFBZ0JDLDJCQU05RCxRQUFTUCxvQkFDc0MsR0FBdENoRCxFQUFFLGVBQWUyQixLQUFLLGNBQXdELEdBQWpDM0IsRUFBRSxlQUFlMkIsS0FBSyxRQUNwRTNCLEVBQUUsZUFBZStDLE9BR2pCL0MsRUFBRSxlQUFlOEMsT0FLekIsUUFBU1UsdUJBQ0wsR0FBSUMsR0FBbUJ6RCxFQUFFLGNBQW9CLE9BQUksYUFBZSx3QkFDNUQwRCxFQUFnQjFELEVBQUV5RCxHQUFpQkUsS0FDdkMzRCxHQUFFc0IsTUFDRUMsU0FBWSxPQUNaQyxLQUFRLE9BQ1JDLElBQU8sa0NBQ1BFLE1BQ0lDLE9BQVEsd0JBQXlCQyxXQUFZN0IsRUFBRSwwQkFBMEIyRCxNQUN6RUMsV0FBWTVELEVBQUUsNEJBQTRCMkQsTUFBT0UsT0FBUTdELEVBQUUsd0JBQXdCMkQsT0FFdkZ6QixRQUFTLFNBQVVQLEdBQ2YzQixFQUFFQSxFQUFFeUQsSUFBa0JLLE9BQ3RCLElBQUlDLEdBQVVwQyxDQUNkM0IsR0FBRTJDLEtBQUtvQixFQUFTLFNBQVVDLEVBQUdMLEdBQ3pCLEdBQUszRCxFQUFFaUUsVUFBVUQsSUFBWSxLQUFOQSxFQWdCbkJoRSxFQUFFQSxFQUFFeUQsSUFBa0JTLE9BQU9sRSxFQUFFLFlBQzNCbUUsTUFBT0gsRUFDUEksS0FBTVQsU0FsQm1CLENBRTdCLEdBQUlVLEdBQVdyRSxFQUFFLGFBQ2pCcUUsR0FBUzVCLEtBQUssUUFBU3VCLEdBRXZCaEUsRUFBRTJDLEtBQUtnQixFQUFLLFNBQVVXLEVBQUdDLEdBQ3JCLEdBQUlDLEdBQVN4RSxFQUFFLG9CQUNmd0UsR0FBT2IsSUFBSVcsR0FDWEUsRUFBT0osS0FBS0csR0FFWkYsRUFBU0gsT0FBT00sS0FHcEJ4RSxFQUFFeUQsR0FBaUJTLE9BQU9HLE1BVWxDckUsRUFBRXlELEVBQWtCLGtCQUFvQkMsRUFBZ0IsTUFBTWpCLEtBQUssV0FBWSxlQU0zRixRQUFTZ0MsdUJBQ0x6RSxFQUFFLHFCQUFxQitDLE9BQ3ZCL0MsRUFBRSxvQkFBb0JvRCxLQUFLLElBRTNCcEQsRUFBRXNCLE1BQ0VDLFNBQVksT0FDWkMsS0FBUSxPQUNSQyxJQUFPLFdBQ1BFLE1BQVVDLE9BQVEsd0JBQXlCQyxXQUFZN0IsRUFBRSxrQkFBa0JvRCxRQUMzRWxCLFFBQVMsU0FBVVAsR0FDZjNCLEVBQUUscUJBQXFCOEMsT0FDdkI5QyxFQUFFLG9CQUFvQm9ELEtBQUt6QixNQU12QyxRQUFTK0Msc0JBQXFCdEUsR0FDMUJKLEVBQUUsU0FBV0ksRUFBVSxzQkFBc0IwQyxPQUM3QzlDLEVBQUUsU0FBV0ksRUFBVSxvQkFBb0JnRCxLQUFLLElBQ2hEcEQsRUFBRSxTQUFXSSxFQUFVLHNCQUFzQjJDLE9BQzdDL0MsRUFBRSxTQUFXSSxFQUFVLG9DQUFvQzBDLE9BSS9ELFFBQVM2Qiw0QkFBMkJ2RSxRQUFTZ0IsbUJBRXpDLEdBQUl3RCxXQUFhNUUsRUFBRSxnQ0FBZ0N1QyxPQUFTLEVBQUssYUFBZSxTQUU1RXZDLEdBQUUsU0FBV0ksUUFBVSxvQ0FBb0NtQyxPQUFTLElBRXBFbUMscUJBQXFCdEUsU0FFckJKLEVBQUVzQixNQUNFQyxTQUFZLE9BQ1pDLEtBQVEsT0FDUkMsSUFBTyxXQUNQRSxNQUNJQyxPQUFRLCtCQUFnQ0MsV0FBWTdCLEVBQUUsa0JBQWtCb0QsT0FDeEV0QixLQUFNMUIsUUFBU2dCLGtCQUFtQkEsa0JBQW1CVyxRQUFTQyxFQUFFQyxJQUFJRixTQUV4RUcsUUFBUyxTQUFVUCxNQUNmUyxLQUFLVCxNQUNMM0IsRUFBRSxTQUFXSSxRQUFVLG9DQUFvQ2dELEtBQUt6QixLQUFLa0QsZ0JBRXJFN0UsRUFBRSxTQUFXSSxRQUFVLHNCQUFzQjBDLE9BQzdDOUMsRUFBRSxTQUFXSSxRQUFVLG9CQUFvQmdELEtBQUt6QixLQUFLbUQsaUJBRWpEbkQsS0FBS21ELGdCQUFrQixFQUN2QjlFLEVBQUUsU0FBV0ksUUFBVSxzQkFBc0IyQyxPQUU3Qy9DLEVBQUUsU0FBV0ksUUFBVSxzQkFBc0IwQyxRQUc1Q25CLEtBQUttRCxnQkFBa0IsR0FBa0IsY0FBYkYsV0FBK0JqRCxLQUFLb0Qsa0JBQWlDLFdBQWJILFlBQ3JGNUUsRUFBRSxTQUFXSSxRQUFVLDBCQUEwQjJDLE9BR1csUUFBNUQvQyxFQUFFZ0YsT0FBTyxrQkFBb0JoRixFQUFFLGtCQUFrQm9ELFNBQXFCekIsS0FBS21ELGdCQUFrQixHQUM3RjlFLEVBQUUsbUJBQXFCQSxFQUFFLGtCQUFrQm9ELFFBQVFOLE9BQ25EOUMsRUFBRSxtQkFBcUJBLEVBQUUsa0JBQWtCb0QsUUFBUUwsT0FDbkQvQyxFQUFFLG1DQUFtQ2lGLGNBRXJDakYsRUFBRSxtQkFBcUJBLEVBQUUsa0JBQWtCb0QsUUFBUUwsT0FDbkQvQyxFQUFFLG1CQUFxQkEsRUFBRSxrQkFBa0JvRCxRQUFRTixPQUNuRDlDLEVBQUUsbUNBQW1Da0YsZUFRekQsUUFBU0MsMEJBQXlCQyxNQUFPbEUsY0FBZW1FLGVBQ3BELEdBQUlDLFlBQWEsZUFDSixRQUFURixRQUNBRSxXQUFhLGVBQWlCRCxlQUVsQ3JGLEVBQUVzRixZQUFZQyxVQUNWQyxRQUFRLEVBQU1DLE1BQU8sTUFBTy9FLElBQUssUUFBU0UsT0FBUSxRQUFTOEUsUUFBUyxNQUFPQyxVQUFXLDhCQUN0RkMsV0FBWSxXQUNSLEdBQUlDLE9BQVE3RixFQUFFOEYsTUFBTXJELEtBQUssTUFBTXNELE1BQU0sSUFDckMsSUFBcUIsR0FBakJWLGVBQXVDVyxRQUFqQlgsY0FDdEIsR0FBSUEsZUFBZ0JRLE1BQU0sRUFFVCxJQUFqQjNFLGdCQUNBQSxjQUFnQmxCLEVBQUUsa0JBQWtCb0QsUUFFeENwRCxFQUFFLGtCQUFrQm9ELEtBQUtpQyxlQUN6QnJGLEVBQUUsd0NBQXdDK0MsT0FDMUMvQyxFQUFFLGNBQWNpRyxPQUFPLFNBQ3ZCakcsRUFBRSxjQUFja0csTUFBTSxXQUNsQmxHLEVBQUVzQixNQUNFQyxTQUFZLE9BQ1pDLEtBQVEsT0FDUkMsSUFBTyxXQUNQRSxNQUNJQyxPQUFRLHlCQUEwQkMsV0FBWVgsY0FBZW1FLGNBQWVBLGNBQzVFYyxPQUFRQyxtQkFBbUJwRyxFQUFFLCtCQUErQjJELE9BQVE1QixRQUFTQyxFQUFFQyxJQUFJRixTQUV2RkcsUUFBUyxTQUFVUCxNQUVmLEdBREFTLEtBQUtULE1BQ2MsV0FBZkEsS0FBSzBFLE9BQ0xyRyxFQUFFdUYsU0FBU2UsUUFDWHRHLEVBQUUsZUFBaUJxRixlQUFlNUMsS0FBSyxPQUFRVCxFQUFFQyxJQUFJc0UsUUFBVSxxQkFBdUI1RSxLQUFLNkUsT0FBUyxXQUFhN0UsS0FBSzhFLFVBQ3RIekcsRUFBRSxlQUFpQnFGLGVBQWVqQyxLQUFLekIsS0FBSytFLE1BQzVDMUcsRUFBRSxlQUFpQnFGLGVBQWVzQixZQUFZLCtCQUMzQyxDQUNILEdBQUlDLGFBQWM1RyxFQUFFLHFCQUFxQm9ELElBQ3pDcEQsR0FBRSxxQkFBcUJvRCxLQUFLd0QsWUFBYyxJQUFNakYsS0FBS2tGLFlBTXpFQyxVQUFXLFdBQ1A5RyxFQUFFLHFCQUFxQjhDLFVBS25DLFFBQVNpRSxxQkFBb0IzQixFQUFPQyxFQUFlakYsRUFBUzRHLEdBQ3hELEdBQUkxQixHQUFhLGFBQ0osUUFBVEYsSUFDQUUsRUFBYSxXQUFhRCxFQUFnQixJQUFNakYsRUFBVSxJQUFNNEcsRUFHcEUsSUFBSUMsR0FBZ0IsTUFDaEJDLEVBQWlCLEtBRXJCbEgsR0FBRXNGLEdBQVlDLFVBQ1Y0QixPQUFRLFdBQ0o1RyxnQkFDQTZHLHNCQUNBcEgsRUFBRThGLE1BQU1oRCxRQUVadUUsU0FBVSxXQUFjdkcsa0JBQ3hCZ0csVUFBVyxXQUNQaEcsZ0JBQ0EsSUFBSStFLEdBQVE3RixFQUFFOEYsTUFBTXJELEtBQUssTUFBTXNELE1BQU0sSUFDckN1QixpQkFBZ0IsU0FBVXpCLEVBQU0sR0FBSUEsRUFBTSxHQUFJQSxFQUFNLElBRXBEN0YsRUFBRSxrQkFBa0JlLFVBRXhCd0csUUFBUSxFQUFNOUIsTUFBT3dCLEVBQWVyRyxPQUFRc0csRUFBZ0J4QixRQUFTLE1BQU9DLFVBQVcsU0FBVTZCLFdBQVksU0FRckgsUUFBU0Msd0JBQXVCckgsR0FFNUJKLEVBQUUsU0FBV0ksRUFBVSwwQkFBNEJBLEVBQVUseUJBQTJCQSxFQUFVLG9CQUFvQjZGLE9BQU8sU0FHN0hqRyxFQUFFLFNBQVdJLEVBQVUsMEJBQTRCQSxFQUFVLHlCQUEyQkEsRUFBVSxvQkFBb0I4RixNQUFNLFdBQ3hILEdBQUlMLEdBQVE3RixFQUFFOEYsTUFBTXJELEtBQUssTUFBTXNELE1BQU0sSUFDckMyQixpQkFBZ0I3QixFQUFNLEdBQUssSUFBTUEsRUFBTSxHQUFJQSxFQUFNLE1BSXJEN0YsRUFBRSxTQUFXSSxFQUFVLHFCQUFxQm1GLFVBQ3hDZ0MsUUFBUSxFQUFNOUIsTUFBTyxNQUFPN0UsT0FBUSxNQUFPOEUsUUFBUyxNQUFPQyxVQUFXLHFCQUFzQjZCLFdBQVksT0FDeEdMLE9BQVEsV0FDSkMsc0JBQ0E3RyxpQkFFSnVHLFVBQVcsV0FDUDlHLEVBQUUsa0JBQWtCZSxTQUNwQkQsa0JBRUp1RyxTQUFVLFdBQ041Qyx5QkFLUnpFLEVBQUUySCxVQUFVekgsR0FBRyxRQUFTLFNBQVdFLEVBQVUsaUJBQWtCLFNBQVV3SCxHQW9CckUsTUFuQkE1SCxHQUFFOEYsTUFBTVAsVUFDSnNDLE1BQU0sRUFBTU4sUUFBUSxFQUFNOUIsTUFBTyxRQUFTN0UsT0FBUSxRQUFTOEUsUUFBUyxNQUFPQyxVQUFXLGtCQUFtQjZCLFdBQVksT0FDckhNLEtBQU0sV0FDRixHQUFJQyxHQUFpQixFQVFyQixPQUxBL0gsR0FBRSxTQUFXSSxFQUFVLDRCQUE0QnVDLEtBQUssU0FBVXFCLEdBQzlEK0QsR0FBa0IsaUJBQW1CL0QsRUFBSSxJQUFNaEUsRUFBRThGLE1BQU1uQyxNQUN2REssTUFHR2hFLEVBQUU4RixNQUFNckQsS0FBSyxRQUFVc0YsR0FFbENaLE9BQVEsV0FBYzVHLGlCQUN0QnVHLFVBQVcsV0FBY2hHLGtCQUN6QnVHLFNBQVUsV0FDTjVDLDBCQUdELElBSWYsUUFBUzJDLHVCQUNMcEgsRUFBRSxRQUFRa0UsT0FBTywrRkFBaUdsQyxFQUFFcUIsSUFBSUMsZ0JBQWdCMEUsWUFBYyxjQUcxSixRQUFTQyw0QkFDRGpJLEVBQUUsd0JBQXdCdUMsT0FBUyxHQUNuQ3ZDLEVBQUUsd0JBQXdCdUYsVUFDdEJnQyxRQUFRLEVBQU05QixNQUFPLFFBQVM3RSxPQUFRLFFBQVM4RSxRQUFTLE1BQU9DLFVBQVcsY0FBZTZCLFdBQVksT0FDckdMLE9BQVEsV0FDSkMsc0JBQ0E3RyxpQkFFSnVHLFVBQVcsV0FDUDlHLEVBQUUsa0JBQWtCZSxTQUNwQkQsb0JBVWhCLFFBQVNvSCw4QkFBNkI5SCxHQUVsQ0osRUFBRSxTQUFXSSxFQUFVLDBCQUEwQjZGLE9BQU8sU0FFeERqRyxFQUFFLFNBQVdJLEVBQVUsMEJBQTBCOEYsTUFBTSxXQUNuRCxHQUFJTCxHQUFRN0YsRUFBRThGLE1BQU1yRCxLQUFLLE1BQU1zRCxNQUFNLElBRXJDLE9BREEyQixpQkFBZ0I3QixFQUFNLEdBQUssSUFBTUEsRUFBTSxHQUFJekYsSUFDcEMsSUFJZixRQUFTK0gsc0JBQXFCL0MsRUFBT0MsRUFBZWpGLEVBQVM0RyxHQUN6RCxHQUFJMUIsR0FBYSwwQkFDSixRQUFURixJQUNBRSxFQUFhLGVBQWlCRCxFQUFnQixJQUFNakYsRUFBVSxJQUFNNEcsRUFBVSxnQkFJbEZoSCxFQUFFc0YsR0FBWVcsT0FBTyxTQUVyQmpHLEVBQUVzRixHQUFZWSxNQUFNLFdBQ2hCbEcsRUFBRThGLE1BQU1oRCxPQUNSOUMsRUFBRThGLE1BQU1zQyxTQUFTLGVBQWV2SCxJQUFJLFVBQVcsZ0JBQWdCd0gsU0FBUyxRQUN4RSxJQUFJeEMsR0FBUTdGLEVBQUU4RixNQUFNd0MsU0FBUzdGLEtBQUssTUFBTXNELE1BQU0sSUFDOUN1QixpQkFBZ0J6QixFQUFNLEdBQUlBLEVBQU0sR0FBSUEsRUFBTSxHQUFJQSxFQUFNLE1BSzVELFFBQVMwQyx1QkFBc0JuRCxFQUFPQyxFQUFlakYsRUFBUzRHLEdBQzFELEdBQUkxQixHQUFhLElBQU1sRixFQUFVLDBCQUNwQixRQUFUZ0YsSUFDQUUsRUFBYSxxQkFBdUJELEVBQWdCLElBQU1qRixFQUFVLElBQU00RyxHQUk5RWhILEVBQUVzRixHQUFZVyxPQUFPLFNBRXJCakcsRUFBRXNGLEdBQVlZLE1BQU0sV0FDaEIsR0FBSUwsR0FBUTdGLEVBQUU4RixNQUFNckQsS0FBSyxNQUFNc0QsTUFBTSxJQUVoQy9GLEdBQUU4RixNQUFNMEMsU0FBUyxpQkFBaUJDLFNBQVMsa0JBQzVDQyxxQkFBcUI3QyxFQUFNLEdBQUlBLEVBQU0sR0FBSUEsRUFBTSxHQUFJQSxFQUFNLE1BT3JFLFFBQVM2QixpQkFBZ0JpQixFQUFjdkksR0FDbkMsR0FBSTJILEtBRWdCLG9CQUFoQlksR0FBcUQsYUFBaEJBLEdBQ3JDM0ksRUFBRSxTQUFXSSxFQUFVLDRCQUE0QnVDLEtBQUssU0FBVXFCLEdBQzlEK0QsRUFBZS9ELEdBQUtoRSxFQUFFOEYsTUFBTW5DLFFBSXBDM0QsRUFBRXNCLE1BQ0VFLEtBQU0sT0FDTkMsSUFBSyxXQUNMRixTQUFVLE9BQ1ZJLE1BQVFDLE9BQVErRyxFQUFjOUcsV0FBWTdCLEVBQUUsa0JBQWtCb0QsT0FBUXRCLEtBQU0xQixFQUFTMkgsZUFBZ0JBLEdBQ3JHN0YsUUFBUyxTQUFVUCxHQUNmM0IsRUFBRSxJQUFNMkksRUFBZSxTQUFXdkksR0FBU2dELEtBQUt6QixHQUNoRDNCLEVBQUUsSUFBTTJJLEVBQWUsU0FBV3ZJLEdBQVNvSSxTQUFTLFFBQVFJLFNBQzVENUksRUFBRSxJQUFNMkksRUFBZSxTQUFXdkksR0FBU2dELEtBQUssT0FPNUQsUUFBU3NGLHNCQUFxQkcsRUFBUXhELEVBQWVqRixFQUFTNEcsR0FFMURoSCxFQUFFc0IsTUFDRUUsS0FBTSxPQUNOQyxJQUFLTyxFQUFFQyxJQUFJc0UsUUFBVSxnQ0FDckJoRixTQUFVLE9BQ1ZJLE1BQVFDLE9BQVFpSCxFQUFRQyxXQUFZekQsRUFBZXhELFdBQVk3QixFQUFFLGtCQUFrQm9ELFFBQ25GbEIsUUFBUyxTQUFVUCxHQUNmM0IsRUFBRSxJQUFNNkksRUFBUyxTQUFXeEQsR0FBZWpDLEtBQUt6QixHQUNoRDNCLEVBQUUsSUFBTTZJLEVBQVMsU0FBV3hELEdBQWVtRCxTQUFTLFFBQVFJLFNBQzVENUksRUFBRSxJQUFNNkksRUFBUyxTQUFXeEQsR0FBZWpDLEtBQUssT0FNNUQsUUFBUzJGLGVBQWMzSSxHQUNmSCxPQUFPK0ksU0FBU0MsT0FDaEJqSixFQUFFLFlBQWNJLEdBQVM4RixRQUV6QmdELFdBQVcsV0FDUEgsY0FBYzNJLElBQ2YsS0FLWCxRQUFTK0ksZUFBY25DLFFBQVM1RyxTQUM1QkosRUFBRSxvQkFBc0JJLFFBQVUsSUFBTTRHLFFBQVUsTUFBTXZFLEtBQUssUUFBUywrQkFDdEV6QyxFQUFFc0IsTUFDRUUsS0FBTSxPQUNOQyxJQUFLLFdBQ0xGLFNBQVUsT0FDVkksTUFDSUMsT0FBUSxpQkFBa0JDLFdBQVk3QixFQUFFLGtCQUFrQm9ELE9BQzFEdEIsS0FBTTFCLFFBQVNnSixLQUFNcEMsUUFBU2pGLFFBQVNDLEVBQUVDLElBQUlGLFNBRWpERyxRQUFTLFNBQVVQLE1BQ2ZTLEtBQUtULE1BQ0wzQixFQUFFZ0YsT0FBTyx1QkFBdUIsR0FBUXFFLFFBQVMsTUFDakRySixFQUFFLFNBQVdJLFFBQVUseUJBQXlCcUMsS0FBSyxXQUFXLElBRXBFUyxNQUFPLFNBQVV2QixHQUNiM0IsRUFBRSxvQkFBc0JJLFFBQVUsSUFBTTRHLFFBQVUsTUFBTXZFLEtBQUssUUFBUyxzQkFDdEV6QyxFQUFFLG9CQUFzQkksUUFBVSxJQUFNNEcsU0FBU0wsWUFBWSxZQUM3RDJDLE1BQU0zSCxFQUFLNEgsZUFFZkMsU0FBVSxXQUNObEMsZ0JBQWdCLGdCQUFpQixFQUFHbEgsUUFBUzRHLFlBTXpELFFBQVNNLGlCQUFnQm1DLEtBQU1wRSxjQUFlakYsUUFBUzRHLFNBQ25EaEgsRUFBRXNCLE1BQ0VFLEtBQU0sT0FDTkMsSUFBSyxXQUNMRixTQUFVLE9BQ1ZJLE1BQ0lDLE9BQVEseUJBQTBCQyxXQUFZN0IsRUFBRSxrQkFBa0JvRCxPQUNsRXRCLEtBQU0xQixRQUFTZ0osS0FBTXBDLFFBQVNqRixRQUFTQyxFQUFFQyxJQUFJRixTQUVqREcsUUFBUyxTQUFVUCxNQUNmM0IsRUFBRSxTQUFXSSxRQUFVLHlCQUF5QnFDLEtBQUssV0FBVyxHQUNoRUwsS0FBS1QsS0FDTCxJQUFJcUMsR0FBSSxDQUNhLElBQWpCcUIsZUFDQW9FLE1BQVEsS0FDUnBFLGNBQWdCMUQsS0FBSzBELGVBRXJCb0UsS0FENkIsTUFBdEI5SCxLQUFLMEQsZUFBMEMsR0FBakJBLGNBQzlCb0UsS0FBTyxJQUFNcEUsY0FFYm9FLEtBQU8sSUFBTTlILEtBQUswRCxjQUdSLEdBQWpCQSxlQUNBckYsRUFBRSxpQkFBaUIyRyxZQUFZLGdCQUluQytDLE9BQVMxSixFQUFFLFNBQVdJLFNBQVN1SixXQUMvQixJQUFJQyxJQUFLNUosRUFBRSxJQUFNeUosS0FBTyxJQUFNckosUUFBVSxJQUFNNEcsU0FBU3NCLFNBQVNBLFNBQzVEdUIsU0FBV0QsR0FBR0UsT0FDbEJKLFFBQU9LLFlBQVlILElBQ25CRixPQUFPbEgsVUFBVWIsS0FBS3FJLEtBRXRCaEgsbUJBRUErRCxvQkFBb0IsTUFBT3BGLEtBQUswRCxjQUFlakYsUUFBUzRHLFNBQ3hEdUIsc0JBQXNCLE1BQU81RyxLQUFLMEQsY0FBZWpGLFFBQVM0RyxTQUMxRG1CLHFCQUFxQixNQUFPeEcsS0FBSzBELGNBQWVqRixRQUFTNEcsU0FDekRpRCxxQkFBcUJ0SSxLQUFLMEQsY0FBZWpGLFNBQ3pDK0UseUJBQXlCLE1BQU9uRixFQUFFLGtCQUFrQm9ELE9BQVF6QixLQUFLMEQsa0JBTTdFLFFBQVM0RSxzQkFBcUI1RSxFQUFlakYsR0FDekMsR0FBSWtGLEdBQWEsU0FBV2xGLEVBQVUsa0JBQ2pCLElBQWpCaUYsSUFDQUMsRUFBYSxTQUFXRCxHQUc1QnJGLEVBQUUsU0FBV0ksRUFBVSxvQkFBb0I4RixNQUFNLFdBQzdDbEcsRUFBRSxTQUFXSSxFQUFVLHlCQUF5QnFDLEtBQUssV0FBVyxLQUdwRXpDLEVBQUUySCxVQUFVekgsR0FBRyxRQUFTb0YsRUFBYSx5QkFBMEIsV0FDdkR0RixFQUFFLFNBQVdJLEVBQVUsNEJBQTRCbUMsT0FBUyxHQUM1RHZDLEVBQUUsU0FBV0ksRUFBVSxtQkFBbUI2RSxZQUMxQ2lELDZCQUE2QjlILEtBRTdCSixFQUFFLFNBQVdJLEVBQVUsMEJBQTBCNkYsT0FBTyxTQUN4RGpHLEVBQUUsU0FBV0ksRUFBVSxtQkFBbUI4RSxhQU10RCxRQUFTZ0Ysc0JBQ0wsSUFBSyxHQUFJbEcsR0FBSSxFQUFHQSxHQUFLLEVBQUdBLElBQ2hCQSxHQUFLaEUsRUFBRSxnQkFBZ0IyRCxNQUN2QjNELEVBQUUsMEJBQTRCZ0UsRUFBSSxNQUFNaUIsWUFFeENqRixFQUFFLDBCQUE0QmdFLEVBQUksTUFBTWtCLFVBOXJDcEQsR0F0TkFsRixFQUFFLGdCQUFnQitDLE9BQ2xCL0MsRUFBRSxZQUFZOEMsT0FHdUIsR0FBakM5QyxFQUFFLHNCQUFzQjJELE9BQ3hCM0QsRUFBRSxzQkFBc0JzSSxTQUFTQSxTQUFTeEYsT0FHVCxHQUFqQzlDLEVBQUUsc0JBQXNCMkQsT0FDeEIzRCxFQUFFLHNCQUFzQnNJLFNBQVNBLFNBQVN4RixPQUl6QzlDLEVBQUUsMkJBQWlDLFFBQ3BDQSxFQUFFLG9CQUFvQnlDLEtBQUssV0FBWSxZQUkzQ3pDLEVBQUUsMkJBQTJCRSxHQUFHLFFBQVMsV0FDakNGLEVBQUU4RixNQUFNcUUsR0FBRyxZQUNYbkssRUFBRSwyQkFBMkIyQyxLQUFLLFdBQzlCM0MsRUFBRSxvQkFBb0JvSyxXQUFXLGNBR3JDcEssRUFBRSwyQkFBMkIyQyxLQUFLLFdBQzlCM0MsRUFBRSxvQkFBb0J5QyxLQUFLLFdBQVksZ0JBS25EekMsRUFBRTJILFVBQVV6SCxHQUFHLFFBQVMsZ0JBQWlCLFdBRXJDLEdBQUltSyxHQUFpQnJLLEVBQUU4RixNQUFNbkUsS0FBSyxXQUM5QjJJLEVBQWF0SSxFQUFFcUIsSUFBSUMsZ0JBQWdCK0csR0FBZ0JFLFFBQVEsT0FBUSxNQUNuRUMsRUFBZ0JDLFFBQVFILEVBRXhCRSxJQUNBeEssRUFBRXNCLE1BQ0VFLEtBQU0sT0FDTkMsSUFBSyxXQUNMRixTQUFVLE9BQ1ZJLE1BQ0lDLE9BQVEsbUJBQ1JHLFFBQVNDLEVBQUVDLElBQUlGLFFBQ2YySSxNQUFPMUssRUFBRThGLE1BQU1uRSxLQUFLLFNBQ3BCRyxLQUFNOUIsRUFBRThGLE1BQU1uRSxLQUFLLFFBQ25CRSxXQUFZN0IsRUFBRThGLE1BQU1uRSxLQUFLLGVBRTdCTyxRQUFTLFdBQ0xqQyxPQUFPMEssU0FBUzdDLEtBQU83SCxPQUFPMEssU0FBUzdDLFVBTXZEOUgsRUFBRTJILFVBQVV6SCxHQUFHLFFBQVMsa0JBQW1CLFdBQ3ZDLElBQUlGLEVBQUU4RixNQUFNMkMsU0FBUyxZQUFyQixDQUdBekksRUFBRThGLE1BQU11QyxTQUFTLFdBQ2pCLElBQUlqSSxHQUFVSixFQUFFOEYsTUFBTThFLEtBQUssTUFBTTdFLE1BQU0sS0FBSyxHQUN4QzhFLEVBQWE3SyxFQUFFOEYsTUFBTThFLEtBQUssTUFBTTdFLE1BQU0sS0FBSyxHQUMzQytFLEVBQVU5SSxFQUFFcUIsSUFBSUMsZ0JBQWdCeUgscUJBQXFCUixRQUFRLFFBQVMsTUFBTUEsUUFBUSxTQUFVLEtBQzlGUyxFQUFhaEwsRUFBRWdGLE9BQU8sc0JBQ3RCZ0csSUFBY1AsUUFBUUssR0FDdEIzQixjQUFjMEIsRUFBWXpLLEdBRTFCSixFQUFFOEYsTUFBTWEsWUFBWSxlQU01QjNHLEVBQUUySCxVQUFVekgsR0FBRyxTQUFVLHFCQUFzQixXQUNOLEdBQWpDRixFQUFFLHNCQUFzQjJELFFBQ3hCM0QsRUFBRSxzQkFBc0JzSSxTQUFTQSxTQUFTeEYsT0FDMUM5QyxFQUFFLHNCQUFzQnNJLFNBQVNBLFNBQVN2RixRQUdULEdBQWpDL0MsRUFBRSxzQkFBc0IyRCxRQUN4QjNELEVBQUUsc0JBQXNCc0ksU0FBU0EsU0FBU3hGLE9BQzFDOUMsRUFBRSxzQkFBc0JzSSxTQUFTQSxTQUFTdkYsVUFLbEQvQyxFQUFFMkgsVUFBVXpILEdBQUcsU0FBVSxrQ0FBbUMsV0FDeEQsTUFBSUYsR0FBRSx1QkFBdUIyRCxNQUFNcEIsT0FBUyxJQUN4Q3ZDLEVBQUUsWUFBWWtGLFFBQVEsUUFDdEJsRixFQUFFLG1DQUFtQ2tGLFFBQVEsUUFDN0NsRixFQUFFLG1DQUFtQ2tGLFFBQVEsUUFDN0NsRixFQUFFLHNCQUFzQmlGLFVBQVUsU0FFM0IsS0FPWGpGLEVBQUUsbUJBQW1CdUMsT0FBUyxJQUN6QnZDLEVBQUVnRixPQUFPLGdCQUFrQmhGLEVBQUUsa0JBQWtCb0QsU0FDaERwRCxFQUFFZ0YsT0FBTyxnQkFBa0JoRixFQUFFLGtCQUFrQm9ELFFBQVEsR0FBUWlHLFFBQVMsS0FHZCxRQUExRHJKLEVBQUVnRixPQUFPLGdCQUFrQmhGLEVBQUUsa0JBQWtCb0QsU0FDL0NwRCxFQUFFLGlCQUFtQkEsRUFBRSxrQkFBa0JvRCxRQUFRTCxPQUNqRC9DLEVBQUUsaUJBQW1CQSxFQUFFLGtCQUFrQm9ELFFBQVFOLE9BQ2pEOUMsRUFBRSxpQkFBaUJpRixjQUVuQmpGLEVBQUUsaUJBQW1CQSxFQUFFLGtCQUFrQm9ELFFBQVFMLE9BQ2pEL0MsRUFBRSxpQkFBbUJBLEVBQUUsa0JBQWtCb0QsUUFBUU4sT0FDakQ5QyxFQUFFLGlCQUFpQmtGLFdBSXZCbEYsRUFBRSxxQkFBcUJrRyxNQUFNLFdBQ3JCbEcsRUFBRThGLE1BQU0yQyxTQUFTLGdCQUFrQnpJLEVBQUUsa0JBQWtCb0QsU0FDdkRwRCxFQUFFZ0YsT0FBTyxnQkFBa0JoRixFQUFFLGtCQUFrQm9ELFFBQVEsR0FBUWlHLFFBQVMsS0FDeEVySixFQUFFLGlCQUFtQkEsRUFBRSxrQkFBa0JvRCxRQUFRTixPQUNqRDlDLEVBQUUsaUJBQW1CQSxFQUFFLGtCQUFrQm9ELFFBQVFMLE9BQ2pEL0MsRUFBRSxpQkFBaUJpRixjQUVuQmpGLEVBQUVnRixPQUFPLGdCQUFrQmhGLEVBQUUsa0JBQWtCb0QsUUFBUSxHQUFTaUcsUUFBUyxLQUN6RXJKLEVBQUUsaUJBQW1CQSxFQUFFLGtCQUFrQm9ELFFBQVFMLE9BQ2pEL0MsRUFBRSxpQkFBbUJBLEVBQUUsa0JBQWtCb0QsUUFBUU4sT0FDakQ5QyxFQUFFLGlCQUFpQmtGLGNBTTNCbEYsRUFBRSxxQkFBcUJ1QyxPQUFTLElBQzNCdkMsRUFBRWdGLE9BQU8sa0JBQW9CaEYsRUFBRSxrQkFBa0JvRCxTQUNsRHBELEVBQUVnRixPQUFPLGtCQUFvQmhGLEVBQUUsa0JBQWtCb0QsUUFBUSxHQUFRaUcsUUFBUyxLQUdkLFFBQTVEckosRUFBRWdGLE9BQU8sa0JBQW9CaEYsRUFBRSxrQkFBa0JvRCxTQUNqRHBELEVBQUUsbUJBQXFCQSxFQUFFLGtCQUFrQm9ELFFBQVFMLE9BQ25EL0MsRUFBRSxtQkFBcUJBLEVBQUUsa0JBQWtCb0QsUUFBUU4sT0FDbkQ5QyxFQUFFLG1DQUFtQ2lGLGNBRXJDakYsRUFBRSxtQkFBcUJBLEVBQUUsa0JBQWtCb0QsUUFBUUwsT0FDbkQvQyxFQUFFLG1CQUFxQkEsRUFBRSxrQkFBa0JvRCxRQUFRTixPQUNuRDlDLEVBQUUsbUNBQW1Da0YsV0FJekNsRixFQUFFLHVCQUF1QmtHLE1BQU0sV0FDdkJsRyxFQUFFOEYsTUFBTTJDLFNBQVMsa0JBQW9CekksRUFBRSxrQkFBa0JvRCxTQUN6RHBELEVBQUVnRixPQUFPLGtCQUFvQmhGLEVBQUUsa0JBQWtCb0QsUUFBUSxHQUFRaUcsUUFBUyxLQUMxRXJKLEVBQUUsbUJBQXFCQSxFQUFFLGtCQUFrQm9ELFFBQVFOLE9BQ25EOUMsRUFBRSxtQkFBcUJBLEVBQUUsa0JBQWtCb0QsUUFBUUwsT0FDbkQvQyxFQUFFLG1DQUFtQ2lGLGNBRXJDakYsRUFBRWdGLE9BQU8sa0JBQW9CaEYsRUFBRSxrQkFBa0JvRCxRQUFRLEdBQVNpRyxRQUFTLEtBQzNFckosRUFBRSxtQkFBcUJBLEVBQUUsa0JBQWtCb0QsUUFBUUwsT0FDbkQvQyxFQUFFLG1CQUFxQkEsRUFBRSxrQkFBa0JvRCxRQUFRTixPQUNuRDlDLEVBQUUsbUNBQW1Da0YsY0FLakRsRixFQUFFMkgsVUFBVXpILEdBQUcsUUFBUywyREFBNEQsV0FDaEYsR0FBSTJGLEdBQVE3RixFQUFFOEYsTUFBTXJELEtBQUssTUFBTXNELE1BQU0sSUFFckIsU0FBWkYsRUFBTSxJQUNON0YsRUFBRSwrQkFBaUM2RixFQUFNLElBQUkvQyxPQUM3QzlDLEVBQUUsK0JBQWlDNkYsRUFBTSxJQUFJOUMsT0FDN0MvQyxFQUFFLDBCQUE0QjZGLEVBQU0sSUFBSVosY0FFeENqRixFQUFFLCtCQUFpQzZGLEVBQU0sSUFBSTlDLE9BQzdDL0MsRUFBRSwrQkFBaUM2RixFQUFNLElBQUkvQyxPQUM3QzlDLEVBQUUsMEJBQTRCNkYsRUFBTSxJQUFJWCxhQUtoRGdGLHFCQUNBbEssRUFBRTJILFVBQVV6SCxHQUFHLFNBQVUsZUFBZ0IsV0FDckNnSyx1QkFRSmxLLEVBQUUySCxVQUFVekgsR0FBRyxRQUFTLDBDQUEyQyxTQUFXK0ssR0FDMUUsR0FBSUMsR0FBT2xMLEVBQUVpTCxFQUFNRSxRQUNmQyxFQUFjRixFQUFLekMsU0FBUyxlQUM1QjRDLEVBQWMsTUFBT0MsRUFBUyxPQUM5QkMsRUFBYUwsRUFBS3pJLEtBQUssV0FFdEIySSxLQUNEQyxFQUFjLE9BQ2RDLEVBQVMsT0FHYkosRUFBS00sUUFBUSx5QkFBeUJDLFlBQ2pDQyxPQUFTSCxFQUFZRCxJQUNyQkssT0FFTFQsRUFBSzdDLFNBQVMsV0FBYWlELEdBQVEzRSxZQUFZLG1CQUFxQjBFLEdBQ3BFSCxFQUFLNUMsU0FBUzNCLFlBQVksb0NBQzFCdUUsRUFBSzlDLFdBQVd6QixZQUFZLDRCQUE0QjBCLFNBQVMsYUFJakVySSxFQUFFLGNBQWN1QyxPQUFTLEdBQ3pCdkMsRUFBRSxjQUFjMkosWUFJaUIsbUJBQTFCM0gsR0FBRXFCLElBQUlDLGdCQUNiLEdBQUlzSSxpQkFDQUMsWUFBZSxpQ0FBbUM3SixFQUFFcUIsSUFBSUMsZ0JBQWdCd0ksWUFBYyxVQUN0RkMsYUFBZ0IvSixFQUFFcUIsSUFBSUMsZ0JBQWdCMEksYUFDdENDLE1BQVNqSyxFQUFFcUIsSUFBSUMsZ0JBQWdCNEksTUFDL0JDLFFBQVduSyxFQUFFcUIsSUFBSUMsZ0JBQWdCOEksUUFDakNDLFlBQWVySyxFQUFFcUIsSUFBSUMsZ0JBQWdCZ0osWUFDckNDLFdBQ0lDLE1BQVN4SyxFQUFFcUIsSUFBSUMsZ0JBQWdCbUosTUFDL0JDLFVBQWExSyxFQUFFcUIsSUFBSUMsZ0JBQWdCcUosV0FNL0MsSUFBSTNNLEVBQUUsU0FBU3VDLE9BQVMsRUFBRyxDQUV2QixHQUFJcUssV0FBWSxDQUNaNU0sR0FBRSxpQkFBaUJ1QyxPQUFTLElBQzVCcUssVUFBWTVNLEVBQUUsaUJBQWlCb0UsUUFFbkNwRSxFQUFFLFNBQVM2TSxNQUNQQyxPQUFVRixVQUNWN0osS0FBUSxXQUNKLEdBQUk5QixHQUFRakIsRUFBRStNLEdBQUdwRCxVQUFVcUQsVUFBUyxFQUNoQy9MLEdBQU1zQixPQUFTLEdBQ2Z2QyxFQUFFaUIsR0FBTzBJLFlBQVlzRCwwQkFPakNqTixFQUFFLG9CQUFvQnVDLE9BQVMsR0FDL0J2QyxFQUFFLG9CQUFvQjJKLFdBQ2xCdUQsYUFBZSxFQUNmQyxZQUFlLFdBQ2ZDLGVBQ01DLFdBQWEsRUFBT0MsT0FBVSxnQkFBaUJDLFVBQWEsS0FDNURELE9BQVUsT0FBUUMsVUFBYSxLQUVyQ0MsVUFBYTVCLGVBQ2I2QixhQUFnQixTQUFVQyxFQUFTQyxFQUFRQyxHQUN2QzVOLEVBQUVzQixNQUNFQyxTQUFZLE9BQ1pDLEtBQVEsT0FDUkMsSUFBT2lNLEVBQ1AvTCxNQUFVQyxPQUFRLGNBQWVDLFdBQVk3QixFQUFFLGtCQUFrQm9ELE9BQVF5SyxLQUFNN04sRUFBRSxjQUFjb0QsUUFDL0ZsQixRQUFXLFNBQVVDLEdBQ2pCeUwsRUFBV3pMLElBRWZlLE1BQVMsU0FBVXZCLEVBQU13QixHQUNyQm5ELEVBQUUsMEJBQTBCeUMsS0FBSyxRQUFTLHNCQUMxQ3pDLEVBQUUscUJBQXFCb0QsS0FBS3BCLEVBQUVxQixJQUFJQyxnQkFBZ0J3Syx1QkFXdEUsSUFBSUMsZ0NBQ0FDLGVBQ0FDLFlBQWNqTyxFQUFFLGlDQUFpQ3VDLE9BQVN2QyxFQUFFLDhCQUE4QnVDLE9BQzFGMkwsZUFBa0JsTyxFQUFFLDhDQUE4Q3VDLE9BQVMsRUFDM0U0TCxlQUFrQm5PLEVBQUUseUNBQXlDdUMsT0FBUyxFQUN0RTZMLGFBQWdCcE8sRUFBRSx3Q0FBd0N1QyxPQUFTLEVBQ25FOEwsY0FBaUJyTyxFQUFFLCtDQUErQ3VDLE9BQVMsQ0FFL0UsSUFBSTJMLGVBQ0EsSUFBSyxHQUFJbEssR0FBSSxFQUFHQSxFQUFJaUssWUFBYWpLLElBQ3BCLEdBQUxBLEdBQ0ErSiw0QkFBNEJPLE1BQU9DLE1BQVMsU0FBVWxCLFdBQWEsSUFDbkVXLFlBQVlNLE1BQUssSUFDTCxHQUFMdEssR0FDUCtKLDRCQUE0Qk8sTUFBT0MsTUFBUyxTQUFVbEIsV0FBYSxFQUFPbUIsVUFBWSxJQUN0RlIsWUFBWU0sTUFBSyxJQUNMLEdBQUx0SyxHQUNQK0osNEJBQTRCTyxNQUFPRyxVQUFhekssRUFBSSxFQUFHdUssTUFBUyxXQUNoRVAsWUFBWU0sTUFBSyxJQUNMLEdBQUx0SyxHQUNQK0osNEJBQTRCTyxNQUFPaEIsT0FBVSxVQUM3Q1UsWUFBWU0sTUFBSyxJQUNMLEdBQUx0SyxHQUFnQixJQUFMQSxHQUFXbUssZ0JBQTBCLElBQUxuSyxJQUFZbUssZ0JBQXlCLElBQUxuSyxHQUFXb0ssY0FDN0ZMLDRCQUE0Qk8sTUFBT2hCLE9BQVUsUUFBU21CLFVBQWF6SyxFQUFJLEVBQUd1SyxNQUFTLFlBQ25GUCxZQUFZTSxNQUFLLElBQ0osSUFBTHRLLEdBQVdtSyxnQkFBeUIsSUFBTG5LLElBQVltSyxnQkFDbkRKLDRCQUE0Qk8sTUFBT2hCLE9BQVUsVUFDN0NVLFlBQVlNLE1BQUssSUFDTCxHQUFMdEssR0FBWUEsR0FBSyxJQUFNbUssaUJBQW1CQyxjQUM3Q3BLLEdBQUssTUFBU21LLGdCQUFrQkMsY0FBa0JELGlCQUFtQkMsZUFDckVwSyxHQUFLLElBQU1tSyxnQkFBa0JDLGNBQ2pDTCw0QkFBNEJPLE1BQU9oQixPQUFVLFNBQVVELFdBQWEsSUFDcEVXLFlBQVlNLE1BQUssS0FDSixHQUFMdEssR0FBaUIsR0FBTEEsR0FBaUIsR0FBTEEsR0FBaUIsR0FBTEEsR0FBVW1LLGdCQUEwQixHQUFMbkssSUFBV21LLGdCQUF5QixJQUFMbkssR0FBV29LLGdCQUNySEwsNEJBQTRCTyxNQUFPRSxVQUFZLElBQy9DUixZQUFZTSxNQUFLLFFBS3pCLEtBQUssR0FBSXRLLEdBQUksRUFBR0EsRUFBSWlLLFlBQWFqSyxJQUNwQixHQUFMQSxHQUNBK0osNEJBQTRCTyxLQUFLLE1BQ2pDTixZQUFZTSxNQUFLLElBQ0wsR0FBTHRLLEdBQ1ArSiw0QkFBNEJPLE1BQU9HLFVBQWF6SyxFQUFJLEVBQUd1SyxNQUFTLFdBQ2hFUCxZQUFZTSxNQUFLLElBQ0wsR0FBTHRLLEdBQ1ArSiw0QkFBNEJPLE1BQU9oQixPQUFVLFVBQzdDVSxZQUFZTSxNQUFLLElBQ0wsR0FBTHRLLEdBQWdCLEdBQUxBLEdBQVVtSyxnQkFBMEIsR0FBTG5LLElBQVdtSyxnQkFBeUIsSUFBTG5LLEdBQVdvSyxjQUMzRkwsNEJBQTRCTyxNQUFPaEIsT0FBVSxRQUFTbUIsVUFBYXpLLEVBQUksRUFBR3VLLE1BQVMsWUFDbkZQLFlBQVlNLE1BQUssSUFDSixJQUFMdEssR0FBV21LLGdCQUF5QixJQUFMbkssSUFBWW1LLGdCQUNuREosNEJBQTRCTyxNQUFPaEIsT0FBVSxVQUM3Q1UsWUFBWU0sTUFBSyxJQUNMLEdBQUx0SyxHQUFZQSxHQUFLLElBQU1tSyxpQkFBbUJDLGNBQzdDcEssR0FBSyxNQUFTbUssZ0JBQWtCQyxjQUFrQkQsaUJBQW1CQyxlQUNyRXBLLEdBQUssSUFBTW1LLGdCQUFrQkMsY0FDakNMLDRCQUE0Qk8sTUFBT2hCLE9BQVUsU0FBVUQsV0FBYSxJQUNwRVcsWUFBWU0sTUFBSyxLQUNKLEdBQUx0SyxHQUFpQixHQUFMQSxHQUFpQixHQUFMQSxHQUFpQixHQUFMQSxHQUFVbUssZ0JBQTBCLEdBQUxuSyxJQUFXbUssZ0JBQXlCLElBQUxuSyxHQUFXb0ssZ0JBQ3JITCw0QkFBNEJPLE1BQU9FLFVBQVksSUFDL0NSLFlBQVlNLE1BQUssR0FLN0IsSUFBSUksZUFDQUMsbUJBQ0ozTyxHQUFFLDhCQUE4QjJDLEtBQUssV0FFakMsR0FBSXZDLEdBQVVKLEVBQUU4RixNQUFNckQsS0FBSyxLQUMzQmtNLGtCQUFpQnZPLEdBQVcsRUFFNUJzTyxXQUFXdE8sR0FBV0osRUFBRSxTQUFXSSxHQUFTdUosV0FDeEN1RCxhQUFlLEVBQ2YwQixVQUFhYiw0QkFDYmMsY0FBaUIsR0FBSSxHQUFJLEdBQUksU0FBVyxHQUFJLEdBQUksR0FBSSxJQUFLLFFBQ3pEQyxZQUFlLEVBQUcsUUFBUyxFQUFHLFFBQzlCM0IsWUFBZSxXQUNmSyxVQUFhNUIsZUFDYm1ELEtBQVEsc0hBQ1J0QixhQUFnQixTQUFVQyxFQUFTQyxFQUFRQyxHQUN2QzVOLEVBQUVzQixNQUNFQyxTQUFZLE9BQ1pDLEtBQVEsT0FDUkMsSUFBT2lNLEVBQ1AvTCxNQUFVQyxPQUFRLHFCQUNsQk0sUUFBVyxTQUFVQyxHQUNqQjdCLG1CQUFtQkYsR0FFbkJ3TixFQUFXekwsR0FDWG5DLEVBQUUsSUFBTUksRUFBVSxlQUFlcUMsS0FBSyxRQUFTLHVCQUMvQ3pCLGVBQWUwTixXQUFXdE8sR0FBVUosRUFBRSxrQkFBa0JvRCxPQUFRaEQsRUFBUyxFQUFHdU8saUJBQWtCLE9BSTFHSyxZQUFjLEVBQ2RDLFlBQWUsU0FBVUMsRUFBV0MsR0FDaEMsSUFDSUMsYUFBYUMsUUFBUWpQLEVBQVUsYUFBY2tQLEtBQUtDLFVBQVVKLElBQzlELE1BQU92SCxNQUdiNEgsa0JBQXFCLFNBQVVOLEVBQVdDLEdBQ3RDQSxFQUFNTSxVQUFZekIsYUFFdEIwQixZQUFlLFNBQVVSLEdBQ3JCLElBQ0ksTUFBT0ksTUFBS0ssTUFBTVAsYUFBYVEsUUFBUXhQLEVBQVUsZUFDbkQsTUFBT3dILE1BR2JpSSxrQkFBcUIsU0FBVVgsRUFBV0MsR0FDdENBLEVBQU1NLFVBQVl6QixhQUV0QjhCLGVBQWtCLFNBQVVaLEdBQ3hCakgsMkJBQ0FNLHNCQUFzQixNQUFPLEVBQUduSSxFQUFTLEdBQ3pDK0gscUJBQXFCLE1BQU8sRUFBRy9ILEVBQVMsR0FDeEMyRyxvQkFBb0IsTUFBTyxFQUFHLEVBQUcsR0FDakNVLHVCQUF1QnJILEdBQ3ZCNkoscUJBQXFCLEVBQUc3SixHQUN4QitFLHlCQUF5QixNQUFPLEVBQUcsUUFNL0NuRixFQUFFLDhCQUE4QjJDLEtBQUssV0FDakMsR0FBSXZDLEdBQVVKLEVBQUU4RixNQUFNckQsS0FBSyxLQUczQmtDLDRCQUEyQnZFLEVBQVMsS0FHcENKLEVBQUUsb0JBQW9CdUMsT0FBUyxHQUMvQmtDLHNCQUlKekUsRUFBRSx3QkFBd0IyQyxLQUFLLFdBQzNCLEdBQUl2QyxHQUFVSixFQUFFOEYsTUFBTXJELEtBQUssTUFBTXNELE1BQU0sd0JBQXdCLEdBRTNEZ0ssRUFBc0IvUCxFQUFFLHdCQUEwQkksR0FBU2dELE1BQy9EcEQsR0FBRSx3QkFBMEJJLEdBQVNXLFNBQ3JDZixFQUFFLElBQU1JLEVBQVUsV0FBV0ssTUFBTXNQLEdBQ25DL1AsRUFBRSxtQkFBbUIrQyxPQUVyQi9DLEVBQUUsWUFBY0ksR0FBUzJDLE9BQ3pCL0MsRUFBRSxlQUFpQkksR0FBUzBDLFFBR2hDLElBQUlrTixlQUFnQmhRLEVBQUUsaUJBZ1N0QixJQTlSQUEsRUFBRTJDLEtBQUtxTixjQUFlLFdBQ2xCLEdBQUk1UCxHQUFVSixFQUFFOEYsTUFBTXJELEtBQUssTUFBTXNELE1BQU0sS0FBSyxFQUM1Qy9GLEdBQUU4RixNQUFNL0UsU0FDUmYsRUFBRSxJQUFNSSxFQUFVLFdBQVdLLE1BQU1ULEVBQUU4RixTQUdYLFdBQTFCOUYsRUFBRSxjQUFjb0QsUUFDaEJwRCxFQUFFLDBEQUEwRDhDLE9BSWhFOUMsRUFBRSxpQkFBaUJrRyxNQUFNLFdBV3JCLE1BVklsRyxHQUFFOEYsTUFBTXFFLEdBQUcsY0FDWG5LLEVBQUUsaUJBQWlCOEMsT0FDbkI5QyxFQUFFLG9CQUFvQitDLE9BRXRCL0MsRUFBRSw4QkFBOEIyQyxLQUFLLFdBQ2pDZ00saUJBQWlCM08sRUFBRThGLE1BQU1yRCxLQUFLLE9BQVMsRUFDdkNpTSxXQUFXMU8sRUFBRThGLE1BQU1yRCxLQUFLLE9BQU93TixlQUMvQnZCLFdBQVcxTyxFQUFFOEYsTUFBTXJELEtBQUssT0FBT3lOLHVCQUdoQyxJQUlQbFEsRUFBRSw2QkFBNkJ1QyxPQUFTLEdBQ3hDdkMsRUFBRSx5QkFBeUJrRyxNQUFNLFdBRTdCbEcsRUFBRSx5QkFBeUI4QyxPQUMzQjlDLEVBQUUsNEJBQTRCK0MsT0FFOUIvQyxFQUFFc0IsTUFDRUUsS0FBTSxPQUNOQyxJQUFLTyxFQUFFQyxJQUFJc0UsUUFBVSxnQ0FDckJoRixTQUFVLE9BQ1ZJLE1BQVFDLE9BQVEsdUJBQXdCQyxXQUFZN0IsRUFBRSw2QkFBNkIyQixLQUFLLHFCQUFzQkksUUFBU0MsRUFBRUMsSUFBSUYsU0FDN0hHLFFBQVMsU0FBVVAsR0FDZjNCLEVBQUUseUJBQXlCK0MsT0FDM0IvQyxFQUFFLDRCQUE0QjhDLFlBTzFDOUMsRUFBRSwyQkFBMkJ1QyxPQUFTLEdBQ3RDdEMsT0FBT3FJLE9BQU90SSxFQUFFLGVBQWV1RixTQUFTNEssUUFDcEMxSyxNQUFPLFFBQ1A3RSxPQUFRLFVBS2hCWixFQUFFLGVBQWVrRyxNQUFNLFdBQ25CbEcsRUFBRSxvQkFBb0I4QyxPQUN0QjlDLEVBQUUsZUFBZThDLE9BQ2pCOUMsRUFBRSx3QkFBd0IrQyxPQUMxQi9DLEVBQUVzQixNQUNFRSxLQUFNLE9BQ05DLElBQUssV0FDTEYsU0FBVSxPQUNWSSxNQUFRQyxPQUFRLHFCQUFzQkMsV0FBWTdCLEVBQUUsa0JBQWtCb0QsT0FBUXJCLFFBQVNDLEVBQUVDLElBQUlGLFNBQzdGRyxRQUFTLFNBQVVQLEdBQ2YxQixPQUFPMEssU0FBUzdDLEtBQU83SCxPQUFPMEssU0FBUzdDLE1BRTNDNUUsTUFBTyxTQUFVdkIsRUFBTXdCLEdBQ25CbkQsRUFBRSxlQUFlK0MsT0FDakIvQyxFQUFFLHdCQUF3QjhDLE9BQzFCOUMsRUFBRSxvQkFBb0IrQyxZQU05Qi9DLEVBQUUsMEJBQTBCdUMsT0FBUyxHQUNyQ3ZDLEVBQUUsMEJBQTBCdUYsVUFDeEJnQyxRQUFRLEVBQU05QixNQUFPLFFBQVM3RSxPQUFRLFFBQVM4RSxRQUFTLE1BQU9DLFVBQVcsaUJBQWtCNkIsV0FBWSxPQUN4R0wsT0FBUSxXQUNKQyxzQkFDQTdHLGlCQUVKdUcsVUFBVyxXQUNQaEcsaUJBRTBCLCtCQUF0QmQsRUFBRThGLE1BQU1yRCxLQUFLLE9BQ2JlLHNCQUVKeEQsRUFBRSxrQkFBa0JlLFlBTTVCZixFQUFFLHVCQUF1QnVDLE9BQVMsR0FDbEN2QyxFQUFFLHVCQUF1QnVGLFVBQ3JCZ0MsUUFBUSxFQUFNOUIsTUFBTyxRQUFTN0UsT0FBUSxRQUFTOEUsUUFBUyxNQUFPQyxVQUFXLGNBQWU2QixXQUFZLE9BQ3JHTCxPQUFRLFdBQ0pDLHNCQUNBN0csaUJBRUp1RyxVQUFXLFdBQ1A5RyxFQUFFLGtCQUFrQmUsU0FDcEJELG9CQU1aZCxFQUFFLHFDQUFxQ29RLFVBQVUsV0FDSixJQUFyQ3BRLEVBQUUsMEJBQTBCMkQsT0FBK0QsS0FBaEQzRCxFQUFFLHFDQUFxQzJELE9BQzlFOEcsUUFBUXpJLEVBQUVxQixJQUFJQyxnQkFBZ0IrTSxzQkFDOUJyUSxFQUFFLHFDQUFxQzJELElBQUksUUFNbkQzRCxFQUFFLDZCQUE2QnVDLE9BQVMsR0FBS3ZDLEVBQUUsaURBQWlEdUMsT0FBUyxJQUN6R3ZDLEVBQUUsNEVBQTRFdUYsVUFDMUVnQyxRQUFRLEVBQU05QixNQUFPLFFBQVM3RSxPQUFRLFFBQVM4RSxRQUFTLE1BQU9DLFVBQVcsb0JBQXFCNkIsV0FBWSxPQUMzR0wsT0FBUSxXQUNKQyxzQkFDQTdHLGlCQUVKdUcsVUFBVyxXQUNQOUcsRUFBRSxrQkFBa0JlLFNBQ3BCRCxvQkFNUmQsRUFBRSxnQ0FBZ0N1QyxPQUFTLEdBQzNDdkMsRUFBRSxnQ0FBZ0N1RixVQUM5QmdDLFFBQVEsRUFBTTlCLE1BQU8sUUFBUzdFLE9BQVEsUUFBUzhFLFFBQVMsTUFBT0MsVUFBVyxtQkFBb0I2QixXQUFZLE9BQzFHTCxPQUFRLFdBQ0pDLHNCQUNBN0csaUJBRUp1RyxVQUFXLFdBQ1A5RyxFQUFFLGtCQUFrQmUsU0FDcEJELGtCQUVKdUcsU0FBVSxXQUNOLEdBQUl4QixHQUFRN0YsRUFBRThGLE1BQU1yRCxLQUFLLE1BQU1zRCxNQUFNLElBQ3JDcEIsNEJBQTJCa0IsRUFBTSxHQUFJLE1BTTdDN0YsRUFBRSxnQ0FBZ0N1QyxPQUFTLEdBQzNDdkMsRUFBRSxnQ0FBZ0N1RixVQUM5QmdDLFFBQVEsRUFBTTlCLE1BQU8sUUFBUzdFLE9BQVEsUUFBUzhFLFFBQVMsTUFBT0MsVUFBVyxtQkFBb0I2QixXQUFZLE9BQzFHTCxPQUFRLFdBQ0pDLHNCQUNBN0csaUJBRUp1RyxVQUFXLFdBQ1A5RyxFQUFFLGtCQUFrQmUsU0FDcEJELG9CQU1SZCxFQUFFLG1CQUFtQnVDLE9BQVMsR0FDOUJ2QyxFQUFFLG1CQUFtQnVGLFVBQ2pCZ0MsUUFBUSxFQUFNOUIsTUFBTyxRQUFTN0UsT0FBUSxRQUFTOEUsUUFBUyxNQUFPQyxVQUFXLFdBQVk2QixXQUFZLE9BQVE4SSxhQUFhLEVBQ3ZIbkosT0FBUSxXQUNKQyxzQkFDQTdHLGlCQUVKdUcsVUFBVyxXQUNQOUcsRUFBRSxrQkFBa0JlLFNBQ3BCRCxvQkFNUmQsRUFBRSx1QkFBdUJ1QyxPQUFTLEdBQ2xDdkMsRUFBRSx1QkFBdUJ1RixVQUNyQmdDLFFBQVEsRUFBTTlCLE1BQU8sUUFBUzdFLE9BQVEsUUFBUzhFLFFBQVMsTUFBT0MsVUFBVyxnQkFBaUI2QixXQUFZLE9BQVE4SSxhQUFhLEVBQzVIbkosT0FBUSxXQUNKQyxzQkFDQTdHLGlCQUVKdUcsVUFBVyxXQUNQOUcsRUFBRSxrQkFBa0JlLFNBQ3BCRCxvQkFNUmQsRUFBRSxnQ0FBZ0N1QyxPQUFTLElBQzNDekIsaUJBQ0FiLE9BQU9xSSxPQUFPdEksRUFBRSxrQkFBa0J1RixTQUFTNEssUUFDdkMxSyxNQUFPLFFBQ1A3RSxPQUFRLFdBS1paLEVBQUUsdUJBQXVCdUMsT0FBUyxHQUNsQ3ZDLEVBQUUsdUJBQXVCdUYsVUFDckJnQyxRQUFRLEVBQU05QixNQUFPLFFBQVM3RSxPQUFRLFFBQVM4RSxRQUFTLE1BQU9DLFVBQVcsY0FBZTZCLFdBQVksT0FDckdMLE9BQVEsV0FDSkMsc0JBQ0E3RyxpQkFFSnVHLFVBQVcsV0FDUDlHLEVBQUUsa0JBQWtCZSxTQUNwQkQsb0JBTVpkLEVBQUUySCxVQUFVekgsR0FBRyxRQUFTLG1EQUFvRCxXQUN4RSxHQUFJcVEsSUFBVSxFQUNWMUssRUFBUTdGLEVBQUU4RixNQUFNckQsS0FBSyxNQUFNc0QsTUFBTSxLQUNqQ3lLLEVBQVd4USxFQUFFLGFBQWU2RixFQUFNLElBQUl6QyxPQUN0Q3FOLEVBQWdCQyxPQUFPRixHQUFVRyxPQUVqQzlILEVBQVNoRCxFQUFNLEdBQ2ZSLEVBQWdCUSxFQUFNLEdBQ3RCekYsRUFBVXlGLEVBQU0sRUFXcEIsSUFSSTRLLEVBQWdCQyxTQUFTQyxRQUNyQjNRLEVBQUU4RixNQUFNMkMsU0FBUyxvQkFDWmdDLFFBQVF6SSxFQUFFcUIsSUFBSUMsZ0JBQWdCc04seUJBQy9CTCxHQUFVLElBS2xCQSxFQUFTLENBQ1R2SCxTQUFXL0ksT0FBTzRILEtBQUssR0FBSSxTQUMzQixJQUFJZ0osR0FBVSxrQ0FDZEEsSUFBVyxhQUFlN08sRUFBRUMsSUFBSXNFLFFBQVUsNEVBQzFDc0ssR0FBVyx5REFBMkQ3TyxFQUFFcUIsSUFBSUMsZ0JBQWdCd04sVUFBWSxPQUN4R0QsR0FBVyxTQUNYN1EsRUFBRWdKLFNBQVNyQixTQUFTb0osTUFBTTNOLEtBQUt5TixHQUcvQjdRLEVBQUVzQixNQUNFRSxLQUFNLE9BQ05DLElBQUtPLEVBQUVDLElBQUlzRSxRQUFVLGdDQUNyQmhGLFNBQVUsT0FDVkksTUFBUUMsT0FBUWlILEVBQVFDLFdBQVl6RCxFQUFleEQsV0FBWTdCLEVBQUUsa0JBQWtCb0QsUUFDbkZsQixRQUFTLFNBQVVQLEdBQ2YzQixFQUFFZ0osU0FBU3JCLFNBQVNvSixNQUFNM04sS0FBS3lOLEVBQVVsUCxHQUN6Q3FILFNBQVNyQixTQUFTcUosTUFBTSxHQUFHcEksU0FDM0JJLFNBQVNyQixTQUFTckIsUUFFbEJ5QyxjQUFjM0ksU0FNMUJKLEVBQUUsY0FBY3VDLE9BQVMsR0FDekJpQixzQkFJQXlOLE1BQVF2USxLQUFvQyxPQUE3QlYsRUFBRSxpQkFBaUJvRCxPQUNsQ3BELEVBQUUsUUFBUWEsSUFBSSxhQUFjLFFBQ3JCb1EsTUFBUXZRLEtBQW9DLGFBQTdCVixFQUFFLGlCQUFpQm9ELFFBQ3pDcEQsRUFBRSxRQUFRYSxJQUFJLGFBQWMsUUFHaENiLEVBQUUscUJBQXFCRSxHQUFHLFFBQVMsV0FDSCxHQUF4QkYsRUFBRThGLE1BQU1uRSxLQUFLLFNBQ2IySCxNQUFNdEgsRUFBRXFCLElBQUlDLGdCQUFnQjROLG9CQUlwQ2xSLEVBQUUsc0JBQXNCRSxHQUFHLFFBQVMsV0FDaENvSixNQUFNdEgsRUFBRXFCLElBQUlDLGdCQUFnQjZOLHFCQUc1Qm5SLEVBQUUsa0JBQWtCdUMsT0FBUyxFQUFHLENBQ2hDdkMsRUFBRStNLEdBQUcxTSxTQUFTK1EsU0FBU0MsS0FBTyxTQUM5QnJSLEVBQUUrTSxHQUFHMU0sU0FBUytRLFNBQVMzUCxJQUFNLFdBQzdCekIsRUFBRStNLEdBQUcxTSxTQUFTK1EsU0FBU0UsT0FBUyxTQUNoQ3RSLEVBQUUrTSxHQUFHMU0sU0FBUytRLFNBQVNHLGFBQWMsRUFDckN2UixFQUFFK00sR0FBRzFNLFNBQVMrUSxTQUFTSSxhQUNuQmpRLFNBQVUsUUFHZHZCLEVBQUUsa0JBQWtCSyxVQUNoQm9SLFNBQVUsU0FBVXROLEdBQ2hCLEdBQUluRSxFQUFFOEYsTUFBTXJELEtBQUssTUFBTWlQLFFBQVEsV0FBYSxJQUFNQyxLQUFLQyxNQUFNek4sSUFBVUEsSUFBVW5FLEVBQUVpRSxVQUFVRSxJQUFVQSxFQUFNdU4sUUFBUSxVQUNqSCxNQUFPMVAsR0FBRXFCLElBQUlDLGdCQUFnQnVPLGVBR3JDM1AsUUFBUyxTQUFVaUIsRUFBVTJPLEdBQ3pCLElBQUszTyxFQUFTakIsUUFDVixNQUFPaUIsR0FBUzBELEdBQ2IsSUFBc0IsWUFBbEIxRCxFQUFTNE8sTUFDaEIvUixFQUFFLFlBQWNtRCxFQUFTNk8sUUFBUTlMLFFBR2pDbEcsRUFBRXNCLE1BQ0VFLEtBQU0sT0FDTkMsSUFBS08sRUFBRUMsSUFBSXNFLFFBQVUsZ0NBQ3JCaEYsU0FBVSxPQUNWSSxNQUFRQyxPQUFRLHVCQUF3QkMsV0FBWTdCLEVBQUUsa0JBQWtCb0QsT0FBUXJCLFFBQVNDLEVBQUVDLElBQUlGLGVBRWhHLElBQXNCLFlBQWxCb0IsRUFBUzRPLE1BQXFCLENBQ3JDLEdBQUlFLEdBQVFqUyxFQUFFOEYsTUFBTW9NLGFBQWEsa0JBQWtCNUosU0FBUzdGLEtBQUssa0JBQ2pFekMsR0FBRSxJQUFNaVMsR0FBTzdOLEtBQUswTixPQUs1QjlSLEVBQUUsbUJBQW1CeUksU0FBUyw2QkFDOUJ6SSxFQUFFLG1CQUFtQjhDLE9BQ3JCOUMsRUFBRSxnQkFBZ0JvRCxLQUFLLHVDQUczQnBELEVBQUUscUJBQXFCRSxHQUFHLFFBQVMsV0FDL0IsR0FBSWlTLEdBQVFuUyxFQUFFOEYsS0FDZDlGLEdBQUVzQixNQUNFRSxLQUFNLE9BQ05DLElBQUssV0FDTEYsU0FBVSxPQUNWSSxNQUFRQyxPQUFRLGFBQWNFLEtBQU1xUSxFQUFNeFEsS0FBSyxNQUFPRSxXQUFZN0IsRUFBRSxrQkFBa0JvRCxRQUN0RmxCLFFBQVMsU0FBVVAsR0FDZndRLEVBQU14USxLQUFLLE9BQVFBLEVBQVcsTUFDOUJ3USxFQUFNeFEsS0FBSyxTQUFVQSxFQUFhLFFBQ2xDd1EsRUFBTXhRLEtBQUssWUFBYUEsRUFBZ0IsZUFLcEQsSUFBSXlRLFNBQVUsR0FBSUMsS0FDbEJyUyxHQUFFLGtCQUFrQkssVUFDaEJtQixLQUFRLFlBQ1I4USxPQUFVLG1CQUNWQyxXQUFjLG9CQUNkQyxTQUFZLG9CQUNaQyxXQUNJQyxXQUFjLEVBQ2RDLFFBQVcsSUFDWEMsUUFBV1IsUUFBUVMsY0FBZ0IsRUFDbkNDLFdBQWEsR0FFakJyQixTQUFVLFNBQVV0TixHQUNoQixHQUFJQSxFQUFNbU8sT0FBTyxLQUFPNUIsU0FBU0MsUUFDN0IzUSxFQUFFOEYsTUFBTTJDLFNBQVMscUJBQ08sR0FBeEJ6SSxFQUFFOEYsTUFBTW5FLEtBQUssU0FDYSxHQUExQjNCLEVBQUU4RixNQUFNbkUsS0FBSyxXQUNnQixHQUE3QjNCLEVBQUU4RixNQUFNbkUsS0FBSyxlQUNSOEksUUFBUXpJLEVBQUVxQixJQUFJQyxnQkFBZ0J5UCxvQkFHL0IsTUFGQS9TLEdBQUUsa0JBQWtCZ1Qsa0JBQWtCLFFBRS9CLEtBSW5COVEsUUFBUyxTQUFVaUIsRUFBVTJPLEdBQ3pCLE1BQUszTyxHQUFTakIsU0FHVmxDLEVBQUUsWUFBY21ELEVBQVM2TyxRQUFROUwsYUFFSCwyQkFBMUIvQyxFQUFTOFAsZUFDVGpULEVBQUUsbUJBQW1COEMsT0FDckI5QyxFQUFFLGdCQUFnQm9ELEtBQUssd0NBRXZCcEQsRUFBRSxlQUFlZSxTQUNqQmYsRUFBRSxtQkFBbUIrQyxVQVRsQkksRUFBUzBELE9BZTVCN0csRUFBRSxrQkFBa0JrRyxNQUFNLFdBQ3RCLEdBQUlsRyxFQUFFOEYsTUFBTTJDLFNBQVMscUJBQ2pCLE9BQU8sSUFLZnpJLEVBQUUsa0NBQWtDRSxHQUFHLFFBQVMsU0FBVTBILEVBQUd2SCxHQUN6RCxHQUFJNlMsR0FBV2xULEVBQUU4RixNQUFNOEUsS0FBSyxLQUM1QjVLLEdBQUUsa0NBQWtDbVQsSUFBSSxJQUFNRCxHQUFTN1MsU0FBUyxXQUNoRUwsRUFBRSxtQkFBbUJxSSxTQUFTLGNBSWxDckksRUFBRSxrQ0FBa0NFLEdBQUcsU0FBVSxXQUM3QyxHQUFJZ1QsR0FBV2xULEVBQUU4RixNQUFNOEUsS0FBSyxLQUM1QjVLLEdBQUUsa0NBQWtDbVQsSUFBSSxJQUFNRCxHQUFTN1MsU0FBUyxVQUNoRUwsRUFBRSxtQkFBbUIyRyxZQUFZLGNBSXpDM0csRUFBRSx1Q0FBdUM0SSxTQUdyQzVJLEVBQUUsdUJBQXVCdUMsT0FBUyxHQUNsQ3ZDLEVBQUUsdUJBQXVCdUYsVUFDckJnQyxRQUFRLEVBQU05QixNQUFPLFFBQVM3RSxPQUFRLFFBQVM4RSxRQUFTLE1BQU9DLFVBQVcsWUFBYXlOLFVBQVcsUUFDbEdqTSxPQUFRLFdBQWM1RyxpQkFDdEJxRixXQUFZLFdBQ1I1RixFQUFFQyxRQUFRQyxHQUFHLFVBQVcsU0FBVW1ULEdBQzlCLEdBQUl2SSxHQUE2QixtQkFBWnVJLEdBQUcxUixLQUF1QjBSLEVBQUdDLGNBQWMzUixLQUFPMFIsRUFBRzFSLElBRzNELDJCQUFYbUosR0FBa0QsMEJBQVhBLEdBQ3ZDOUssRUFBRXNCLE1BQ0VFLEtBQU0sT0FDTkMsSUFBS08sRUFBRUMsSUFBSXNFLFFBQVUsZ0NBQ3JCaEYsU0FBVSxPQUNWSSxNQUFPQyxPQUFRLHNCQUF1QmtKLFFBQVNBLEVBQVMvSSxRQUFTQyxFQUFFQyxJQUFJRixTQUN2RUcsUUFBUyxTQUFVUCxHQUNmMUIsT0FBTzBLLFNBQVM0SSxVQUVwQnJRLE1BQU8sU0FBVXZCLEdBQ2IxQixPQUFPMEssU0FBUzRJLGVBTXBDek0sVUFBVyxXQUNQaEcsb0JBc1daZCxFQUFFLHNCQUFzQmtHLE1BQU0sV0FDMUJqRyxPQUFPdVQsVUErTVh4VCxFQUFFLHdCQUF3QkUsR0FBRyxRQUFTO0FBQ2xDLEdBQUl1VCxHQUFLelQsRUFBRThGLE1BQU13QyxTQUFTQSxTQUFTQSxTQUFTQSxTQUFTN0YsS0FBSyxLQUV0RHpDLEdBQUU4RixNQUFNcUUsR0FBRyxhQUNQbkssRUFBRSxJQUFNeVQsRUFBSyxvQkFBb0JsUixRQUNqQ3ZDLEVBQUUsU0FBV3lULEVBQUssbUJBQW1CeE8sWUFFekNqRixFQUFFLElBQU15VCxFQUFLLG9CQUFvQjlRLEtBQUssV0FDbEMzQyxFQUFFOEYsTUFBTThFLEtBQUssV0FBVyxPQUc1QjVLLEVBQUUsSUFBTXlULEVBQUssb0JBQW9COVEsS0FBSyxXQUNsQzNDLEVBQUU4RixNQUFNOEUsS0FBSyxXQUFXLEtBRXhCNUssRUFBRSxJQUFNeVQsRUFBSyxvQkFBb0JsUixRQUNqQ3ZDLEVBQUUsU0FBV3lULEVBQUssbUJBQW1Cdk8sYUFNakRsRixFQUFFLGdDQUFnQzBULE9BQU8sV0FFckMsR0FBSUMsR0FBUzNULEVBQUU4RixNQUFNd0MsU0FBU0EsU0FBU0EsU0FDbkNzTCxFQUFZQyxjQUFjLG1CQUFvQkYsRUFBT2hTLEtBQUssVUFFMURpUyxHQUFZbEQsU0FBU0MsUUFBaUMsR0FBdkJnRCxFQUFPaFMsS0FBSyxTQUF5QyxHQUF6QmdTLEVBQU9oUyxLQUFLLFdBQThDLEdBQTVCZ1MsRUFBT2hTLEtBQUssY0FDckcySCxNQUFNdEgsRUFBRXFCLElBQUlDLGdCQUFnQndRLFlBS3BDLElBQUlELGVBQWdCLFNBQVVFLEVBQUkzVCxHQUU5QixHQUFJZSxJQUFTLE9BQVEsU0FBVSxRQUFTLFFBQVMsVUFFakRnUixPQUFRblMsRUFBRStULEVBQUszVCxFQUdmLElBQUk0VCxHQUFPLEVBYVgsT0FaQWhVLEdBQUUyQyxLQUFLeEIsRUFBTyxTQUFVeUIsRUFBR0MsR0FDdkJtUixHQUFRN0IsTUFBTThCLEtBQUssUUFBVTdULEVBQVV5QyxFQUFJLHFCQUFxQnVCLE9BQ3RELFVBQU52QixFQUNBbVIsR0FBUSxJQUNLLFVBQU5uUixFQUNQbVIsR0FBUSxJQUNLLFlBQU5uUixJQUNQbVIsR0FBUSxPQUtUdEQsT0FBT3NELEVBQU0sc0JBQXNCckQsV0FHbkR1RCIsImZpbGUiOiJ0dXJuaXRpbnRvb2x0d28tMjAxODEwMjYwMS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQpIHtcbiAgICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoXCIuanNfcmVxdWlyZWRcIikuc2hvdygpO1xuICAgICAgICAkKFwiLmpzX2hpZGVcIikuaGlkZSgpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSBzdWJtaXQgcGFwZXIgZm9ybSBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2hhdCBzdWJtaXNzaW9uIHR5cGUgaXMgYWxsb3dlZC5cbiAgICAgICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnR5cGVcIikudmFsKCkgPT0gMSkge1xuICAgICAgICAgICAgJChcIiNpZF9zdWJtaXNzaW9udGV4dFwiKS5wYXJlbnQoKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAyKSB7XG4gICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb25maWxlXCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERpc2FibGUgYXNzaWdubWVudCBzdWJtaXNzaW9uIGlmIGEgc3VibWlzc2lvbiBhZ3JlZW1lbnQgZXhpc3RzIGFuZCBpcyBub3QgY2hlY2tlZC5cbiAgICAgICAgaWYgKCgkKFwiI2lkX3N1Ym1pc3Npb25hZ3JlZW1lbnRcIikubGVuZ3RoKSkge1xuICAgICAgICAgICAgJCgnI2lkX3N1Ym1pdGJ1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaXNhYmxlL2VuYWJsZSBhc3NpZ25tZW50IHN1Ym1pc3Npb24gd2hlbiB0aGUgc3VibWlzc2lvbiBjaGVja2JveCBpcyBjaGVja2VkL3VuY2hlY2tlZC5cbiAgICAgICAgJCgnI2lkX3N1Ym1pc3Npb25hZ3JlZW1lbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICQoJyNpZF9zdWJtaXNzaW9uYWdyZWVtZW50JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9zdWJtaXRidXR0b24nKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjaWRfc3VibWlzc2lvbmFncmVlbWVudCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfc3VibWl0YnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kZWxldGVfcGFwZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvbmZpcm0gd2luZG93LlxuICAgICAgICAgICAgdmFyIGNvbmZpcm1zdHJuYW1lID0gJCh0aGlzKS5kYXRhKFwiY29uZmlybVwiKTtcbiAgICAgICAgICAgIHZhciBjb25maXJtc3RyID0gTS5zdHIudHVybml0aW50b29sdHdvW2NvbmZpcm1zdHJuYW1lXS5yZXBsYWNlKC9cXFxcbi9nLCBcIlxcblwiKTtcbiAgICAgICAgICAgIHZhciBjb25maXJtcmVzdWx0ID0gY29uZmlybShjb25maXJtc3RyKTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpcm1yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZGVsZXRlc3VibWlzc2lvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNza2V5OiBNLmNmZy5zZXNza2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXI6ICQodGhpcykuZGF0YShcInBhcGVyXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydDogJCh0aGlzKS5kYXRhKFwicGFydFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnQ6ICQodGhpcykuZGF0YShcImFzc2lnbm1lbnRcIilcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnN1Ym1pdF9ub3RoaW5nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB2YXIgcGFydF9pZCA9ICQodGhpcykucHJvcCgnaWQnKS5zcGxpdCgnXycpWzJdO1xuICAgICAgICAgICAgdmFyIHN0dWRlbnRfaWQgPSAkKHRoaXMpLnByb3AoJ2lkJykuc3BsaXQoJ18nKVszXTtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gTS5zdHIudHVybml0aW50b29sdHdvLnN1Ym1pdG5vdGhpbmd3YXJuaW5nLnJlcGxhY2UoLzxicj4vZywgXCJcXG5cIikucmVwbGFjZSgvJiMzOTsvZywgXCJcXCdcIik7XG4gICAgICAgICAgICB2YXIgY29va2llc2VlbiA9ICQuY29va2llKCdzdWJtaXRub3RoaW5nYWNjZXB0Jyk7XG4gICAgICAgICAgICBpZiAoY29va2llc2VlbiB8fCBjb25maXJtKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgc3VibWl0Tm90aGluZyhzdHVkZW50X2lkLCBwYXJ0X2lkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDb25maWd1cmUgc3VibWl0IHBhcGVyIGZvcm0gZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdoYXQgc3VibWlzc2lvbiB0eXBlIGlzIHNlbGVjdGVkLlxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNpZF9zdWJtaXNzaW9udHlwZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgkKFwiI2lkX3N1Ym1pc3Npb250eXBlXCIpLnZhbCgpID09IDEpIHtcbiAgICAgICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb25maWxlXCIpLnBhcmVudCgpLnBhcmVudCgpLnNob3coKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnR5cGVcIikudmFsKCkgPT0gMikge1xuICAgICAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbmZpbGVcIikucGFyZW50KCkucGFyZW50KCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbnRleHRcIikucGFyZW50KCkucGFyZW50KCkuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTaG93IGxvYWRpbmcgaWYgc3VibWlzc2lvbiBwYXNzZXMgdmFsaWRhdGlvbi5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcuc3VibWlzc2lvbl9mb3JtX2NvbnRhaW5lciBmb3JtJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnRpdGxlXCIpLnZhbCgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKFwiI2dlbmVyYWxcIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgICAgICQoXCIubW9kX3R1cm5pdGludG9vbHR3byAubm90aWNlYm94XCIpLnNsaWRlVXAoJ3Nsb3cnKTtcbiAgICAgICAgICAgICAgICAkKFwiLnN1Ym1pc3Npb25fZm9ybV9jb250YWluZXIgZm9ybVwiKS5zbGlkZVVwKCdzbG93Jyk7XG4gICAgICAgICAgICAgICAgJChcIiNzdWJtaXR0aW5nX2xvYWRlclwiKS5zbGlkZURvd24oJ3Nsb3cnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluaXRpYWxpc2UgYW5kIHNldCBjb29raWUgZm9yIHNob3dpbmcgdGhlIHN1bW1hcnkgZm9yIHRoaXMgYXNzaWdubWVudC5cbiAgICAgICAgaWYgKCQoJy50b2dnbGVfc3VtbWFyeScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICghJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpKSB7XG4gICAgICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkgPT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJy5zaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVG9nZ2xlIFN1bW1hcnkgZGlzcGxheSBvbiBJbmJveC5cbiAgICAgICAgICAgICQoJy50b2dnbGVfc3VtbWFyeSBpJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgdHJ1ZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmhpZGVfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBmYWxzZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmhpZGVfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpc2UgYW5kIHNldCBjb29raWUgZm9yIHNob3dpbmcgdGhlIHBlZXJtYXJrIGFzc2lnbm1lbnRzIGZvciB0aGlzIGFzc2lnbm1lbnQuXG4gICAgICAgIGlmICgkKCcudG9nZ2xlX3BlZXJtYXJrcycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICghJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkpIHtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCB0cnVlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkgPT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUb2dnbGUgUGVlcm1hcmtzIGRpc3BsYXkgb24gSW5ib3guXG4gICAgICAgICAgICAkKCcudG9nZ2xlX3BlZXJtYXJrcyBpJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmhpZGVfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgZmFsc2UsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmhpZGVfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zaG93X3BlZXJtYXJrX2luc3RydWN0aW9ucywgLmhpZGVfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKCdpZCcpLnNwbGl0KFwiX1wiKTtcblxuICAgICAgICAgICAgaWYgKGlkU3RyWzBdID09IFwic2hvd1wiKSB7XG4gICAgICAgICAgICAgICAgJCgnI3Nob3dfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJyNoaWRlX3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNzaG93X3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjaGlkZV9wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2hvdyBvcHRpb25zIGZvciBwYXJ0cyBpbiBtb2RfZm9ybS5waHAuXG4gICAgICAgIHNob3dQYXJ0RGF0ZXNCb3hlcygpO1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNpZF9udW1wYXJ0cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3dQYXJ0RGF0ZXNCb3hlcygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFudWFsIGFjdGl2YXRpb24gb2Ygc29ydGluZyBiYXNlZCBvbiBmaXJzdCBvciBsYXN0IG5hbWUuXG4gICAgICAgICAqIFRoaXMgYm9ycm93cyBjbGFzc2VzIGZyb20gZGF0YXRhYmxlcyBhbmQgYXBwbGllcyB0aGVtIHRvIHR3byBkaXZzIGluc2lkZSB0aGUgc3R1ZGVudCBuYW1lIGNvbHVtbiBoZWFkZXIuXG4gICAgICAgICAqIEluIG9yZGVyIHRvIHNvcnQgYnkgbGFzdCBuYW1lIGl0IHJlZmVyZW5jZXMgYSBoaWRkZW4gY29sdW1uIGluIHBvc2l0aW9uIDIuXG4gICAgICAgICAqL1xuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNwbGl0dGVyLWxhc3RuYW1lLCAuc3BsaXR0ZXItZmlyc3RuYW1lJywgZnVuY3Rpb24gKCBldmVudCApIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gJChldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgICAgIGlzQXNjZW5kaW5nID0gbm9kZS5oYXNDbGFzcygnc29ydGluZ19hc2MnKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50c29ydCA9ICdhc2MnLCBzb3J0YnkgPSAnZGVzYycsXG4gICAgICAgICAgICAgICAgc29ydENvbHVtbiA9IG5vZGUuYXR0cignZGF0YS1jb2wnKTtcblxuICAgICAgICAgICAgaWYgKCFpc0FzY2VuZGluZykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRzb3J0ID0gJ2Rlc2MnO1xuICAgICAgICAgICAgICAgIHNvcnRieSA9ICdhc2MnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlLmNsb3Nlc3QoJy5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLkRhdGFUYWJsZSgpXG4gICAgICAgICAgICAgICAgLm9yZGVyKCBbIHNvcnRDb2x1bW4sIHNvcnRieSBdIClcbiAgICAgICAgICAgICAgICAuZHJhdygpO1xuXG4gICAgICAgICAgICBub2RlLmFkZENsYXNzKCdzb3J0aW5nXycgKyBzb3J0YnkpLnJlbW92ZUNsYXNzKCdzb3J0aW5nIHNvcnRpbmdfJyArIGN1cnJlbnRzb3J0KTtcbiAgICAgICAgICAgIG5vZGUucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3NvcnRpbmcgc29ydGluZ19hc2Mgc29ydGluZ19kZXNjJyk7XG4gICAgICAgICAgICBub2RlLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ3NvcnRpbmdfYXNjIHNvcnRpbmdfZGVzYycpLmFkZENsYXNzKCdzb3J0aW5nJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFjdGl2YXRlIHNpbXBsZSBkYXRhVGFibGVzLlxuICAgICAgICBpZiAoJChcIiNkYXRhVGFibGVcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJChcIiNkYXRhVGFibGVcIikuZGF0YVRhYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb25maWd1cmUgZGF0YXRhYmxlcyBsYW5ndWFnZSBzZXR0aW5ncy5cbiAgICAgICAgaWYgKHR5cGVvZiBNLnN0ci50dXJuaXRpbnRvb2x0d28gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB2YXIgZGF0YVRhYmxlc0xhbmcgPSB7XG4gICAgICAgICAgICAgICAgXCJzUHJvY2Vzc2luZ1wiOiAnPHNwYW4gY2xhc3M9XCJsb2FkaW5nLW1lc3NhZ2VcIj4nICsgTS5zdHIudHVybml0aW50b29sdHdvLnNwcm9jZXNzaW5nICsgJzwvc3Bhbj4nLFxuICAgICAgICAgICAgICAgIFwic1plcm9SZWNvcmRzXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zemVyb3JlY29yZHMsXG4gICAgICAgICAgICAgICAgXCJzSW5mb1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2luZm8sXG4gICAgICAgICAgICAgICAgXCJzU2VhcmNoXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zc2VhcmNoLFxuICAgICAgICAgICAgICAgIFwic0xlbmd0aE1lbnVcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNsZW5ndGhtZW51LFxuICAgICAgICAgICAgICAgIFwib1BhZ2luYXRlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJzTmV4dFwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc25leHQsXG4gICAgICAgICAgICAgICAgICAgIFwic1ByZXZpb3VzXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zcHJldmlvdXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0aXZhdGUgZGF0YXRhYmxlIHRhYnMgb24gc3VibWlzc2lvbiBpbmJveC5cbiAgICAgICAgaWYgKCQoXCIjdGFic1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBTZXQgdGFiIHBvc2l0aW9uLlxuICAgICAgICAgICAgdmFyIGFjdGl2ZVRhYiA9IDA7XG4gICAgICAgICAgICBpZiAoJChcIiN0YWJfcG9zaXRpb25cIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhYiA9ICQoJyN0YWJfcG9zaXRpb24nKS50ZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKFwiI3RhYnNcIikudGFicyh7XG4gICAgICAgICAgICAgICAgXCJhY3RpdmVcIjogYWN0aXZlVGFiLFxuICAgICAgICAgICAgICAgIFwic2hvd1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9ICQuZm4uZGF0YVRhYmxlLmZuVGFibGVzKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFibGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0YWJsZSkuZGF0YVRhYmxlKCkuZm5BZGp1c3RDb2x1bW5TaXppbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29uZmlndXJlIHRoZSBkYXRhdGFibGUgZm9yIGFkZGluZy9yZW1vdmluZyBlbnJvbGxlZCB0dXRvcnMvc3R1ZGVudHMgdG8gYSBUdXJuaXRpbiBjb3Vyc2UuXG4gICAgICAgIGlmICgkKCcuZW5yb2xsZWRNZW1iZXJzJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLmVucm9sbGVkTWVtYmVycycpLmRhdGFUYWJsZSh7XG4gICAgICAgICAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICAgICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwiYW9Db2x1bW5EZWZzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBcImJTb3J0YWJsZVwiOiBmYWxzZSwgXCJzQ2xhc3NcIjogXCJjZW50ZXJlZF9jZWxsXCIsIFwiYVRhcmdldHNcIjogWzBdIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgXCJzQ2xhc3NcIjogXCJsZWZ0XCIsIFwiYVRhcmdldHNcIjogWzFdIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICAgICAgICAgIFwiZm5TZXJ2ZXJEYXRhXCI6IGZ1bmN0aW9uIChzU291cmNlLCBhb0RhdGEsIGZuQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogc1NvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7IGFjdGlvbjogXCJnZXRfbWVtYmVyc1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgcm9sZTogJCgnI3VzZXJfcm9sZScpLmh0bWwoKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbkNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlcnJvclwiOiBmdW5jdGlvbiAoZGF0YSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZGF0YVRhYmxlc19wcm9jZXNzaW5nJykuYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTogaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmRhdGFUYWJsZXNfZW1wdHknKS5odG1sKE0uc3RyLnR1cm5pdGludG9vbHR3by5tZW1iZXJjaGVja2Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb25maWd1cmUgdGhlIGRhdGF0YWJsZXMgb24gdGhlIHN1Ym1pc3Npb24gaW5ib3gsIGEgc2VwZXJhdGUgZGF0YXRhYmxlIGlzIHNob3duIGZvciBlYWNoIHBhcnQuXG4gICAgICAgIC8vIFRoZXJlIGFyZSB0YWJzIHRvIHRvZ2dsZSB3aGljaCBwYXJ0IHRhYmxlIGlzIGRpc3BsYXllZC5cblxuICAgICAgICAvLyBEZWZpbmUgY29sdW1uIGRlZmluaXRpb25zIGFzIHRoZXJlIGNhbiBiZSBkaWZmZXJlbnQgbnVtYmVyIG9mIGNvbHVtbnMuXG4gICAgICAgIHZhciBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMgPSBbXTtcbiAgICAgICAgdmFyIHZpc2libGVDb2xzID0gW107XG4gICAgICAgIHZhciBub09mQ29sdW1ucyA9ICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlIHRoJykubGVuZ3RoIC8gJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUnKS5sZW5ndGg7XG4gICAgICAgIHZhciBub3RTdHVkZW50VmlldyA9ICgkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZSB0aC5zb3J0aW5nX25hbWUnKS5sZW5ndGggPiAwKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdmFyIHNob3dPcmlnUmVwb3J0ID0gKCQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlIHRoLmNyZXBvcnQnKS5sZW5ndGggPiAwKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdmFyIHVzZUdyYWRlTWFyayA9ICgkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZSB0aC5jZ3JhZGUnKS5sZW5ndGggPiAwKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdmFyIG11bHRpcGxlUGFydHMgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY292ZXJhbGxncmFkZScpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChub3RTdHVkZW50Vmlldykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub09mQ29sdW1uczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gMykge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwic1R5cGVcIjogXCJzdHJpbmdcIiwgXCJiU29ydGFibGVcIjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goeyBcInNUeXBlXCI6IFwic3RyaW5nXCIsIFwiYlNvcnRhYmxlXCI6IGZhbHNlLCBcImJWaXNpYmxlXCI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwiaURhdGFTb3J0XCI6IGkgLSAxLCBcInNUeXBlXCI6IFwic3RyaW5nXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goeyBcInNDbGFzc1wiOiBcInJpZ2h0XCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09IDggfHwgKGkgPT0gMTAgJiYgc2hvd09yaWdSZXBvcnQpIHx8ICgoaSA9PSAxMCAmJiAhc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDEyICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJzQ2xhc3NcIjogXCJyaWdodFwiLCBcImlEYXRhU29ydFwiOiBpIC0gMSwgXCJzVHlwZVwiOiBcIm51bWVyaWNcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChpID09IDEzICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoaSA9PSAxMiAmJiAhc2hvd09yaWdSZXBvcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJzQ2xhc3NcIjogXCJyaWdodFwiIH0pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PSAxIHx8ICgoaSA+PSA5ICYmICFzaG93T3JpZ1JlcG9ydCAmJiAhdXNlR3JhZGVNYXJrKVxuICAgICAgICAgICAgICAgICAgICB8fCAoaSA+PSAxMSAmJiAoKCFzaG93T3JpZ1JlcG9ydCAmJiB1c2VHcmFkZU1hcmspIHx8IChzaG93T3JpZ1JlcG9ydCAmJiAhdXNlR3JhZGVNYXJrKSkpXG4gICAgICAgICAgICAgICAgICAgIHx8IChpID49IDEzICYmIHNob3dPcmlnUmVwb3J0ICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJzQ2xhc3NcIjogXCJjZW50ZXJcIiwgXCJiU29ydGFibGVcIjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoaSA9PSAwKSB8fCAoaSA9PSA0KSB8fCAoaSA9PSA3KSB8fCAoaSA9PSA5ICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoKGkgPT0gOSAmJiAhc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDExICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHsgXCJiVmlzaWJsZVwiOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub09mQ29sdW1uczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwiaURhdGFTb3J0XCI6IGkgLSAxLCBcInNUeXBlXCI6IFwic3RyaW5nXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goeyBcInNDbGFzc1wiOiBcInJpZ2h0XCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpID09IDcgfHwgKGkgPT0gOSAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKChpID09IDkgJiYgIXNob3dPcmlnUmVwb3J0KSB8fCAoaSA9PSAxMSAmJiB1c2VHcmFkZU1hcmspKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwic0NsYXNzXCI6IFwicmlnaHRcIiwgXCJpRGF0YVNvcnRcIjogaSAtIDEsIFwic1R5cGVcIjogXCJudW1lcmljXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoaSA9PSAxMiAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKGkgPT0gMTEgJiYgIXNob3dPcmlnUmVwb3J0KSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwic0NsYXNzXCI6IFwicmlnaHRcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gMSB8fCAoKGkgPj0gOCAmJiAhc2hvd09yaWdSZXBvcnQgJiYgIXVzZUdyYWRlTWFyaylcbiAgICAgICAgICAgICAgICAgICAgfHwgKGkgPj0gMTAgJiYgKCghc2hvd09yaWdSZXBvcnQgJiYgdXNlR3JhZGVNYXJrKSB8fCAoc2hvd09yaWdSZXBvcnQgJiYgIXVzZUdyYWRlTWFyaykpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoaSA+PSAxMiAmJiBzaG93T3JpZ1JlcG9ydCAmJiB1c2VHcmFkZU1hcmspKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwic0NsYXNzXCI6IFwiY2VudGVyXCIsIFwiYlNvcnRhYmxlXCI6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGkgPT0gMCkgfHwgKGkgPT0gMykgfHwgKGkgPT0gNikgfHwgKGkgPT0gOCAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKChpID09IDggJiYgIXNob3dPcmlnUmVwb3J0KSB8fCAoaSA9PSAxMCAmJiB1c2VHcmFkZU1hcmspKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7IFwiYlZpc2libGVcIjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJ0VGFibGVzID0gW107XG4gICAgICAgIHZhciByZWZyZXNoUmVxdWVzdGVkID0gW107XG4gICAgICAgICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG4gICAgICAgICAgICByZWZyZXNoUmVxdWVzdGVkW3BhcnRfaWRdID0gMDtcblxuICAgICAgICAgICAgcGFydFRhYmxlc1twYXJ0X2lkXSA9ICQoJ3RhYmxlIycgKyBwYXJ0X2lkKS5kYXRhVGFibGUoe1xuICAgICAgICAgICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcImFvQ29sdW1uc1wiOiBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMsXG4gICAgICAgICAgICAgICAgXCJhTGVuZ3RoTWVudVwiOiBbWzEwLCAyNSwgNTAsIDEwMCwgLTFdLCBbMTAsIDI1LCA1MCwgMTAwLCBcIkFsbFwiXV0sXG4gICAgICAgICAgICAgICAgXCJhYVNvcnRpbmdcIjogW1syLCBcImFzY1wiXSwgWzQsIFwiYXNjXCJdXSxcbiAgICAgICAgICAgICAgICBcInNBamF4U291cmNlXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBcIm9MYW5ndWFnZVwiOiBkYXRhVGFibGVzTGFuZyxcbiAgICAgICAgICAgICAgICBcInNEb21cIjogJ3I8XCJsaXN0YmFyLWNvbnRhaW5lclwiPFwidG9wIGxpc3RiYXIgY2xlYXJmaXhcImxmPj48XCJkdF9wYWdpbmF0aW9uIGNsZWFyZml4XCJwaT50PFwiYm90dG9tXCI+PFwiZHRfcGFnaW5hdGlvbiBjbGVhcmZpeFwicGk+JyxcbiAgICAgICAgICAgICAgICBcImZuU2VydmVyRGF0YVwiOiBmdW5jdGlvbiAoc1NvdXJjZSwgYW9EYXRhLCBmbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IHNTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjogeyBhY3Rpb246IFwiaW5pdGlhbGlzZV9yZWRyYXdcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRWRpdGluZ1RleHQocGFydF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBmb3JjZSBzaG93aW5nIG9mIGxvYWRpbmcgYmFyIGFzIGlmIHdlIHBsYWNlIGZuQ2FsbGJhY2sgYWZ0ZXIgdGhlIHRhYmxlIGlzIHBvcHVsYXRlZCBpdCBpcyB3aXBlZCB3aGVuIHJlZnJlc2hpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm5DYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArIFwiX3Byb2Nlc3NpbmdcIikuYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTogdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFN1Ym1pc3Npb25zKHBhcnRUYWJsZXNbcGFydF9pZF0sICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBwYXJ0X2lkLCAwLCByZWZyZXNoUmVxdWVzdGVkLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImJTdGF0ZVNhdmVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcImZuU3RhdGVTYXZlXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MsIG9EYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShwYXJ0X2lkICsgJ0RhdGFUYWJsZXMnLCBKU09OLnN0cmluZ2lmeShvRGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiZm5TdGF0ZVNhdmVQYXJhbXNcIjogZnVuY3Rpb24gKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgb0RhdGEuYWJWaXNDb2xzID0gdmlzaWJsZUNvbHM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImZuU3RhdGVMb2FkXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHBhcnRfaWQgKyAnRGF0YVRhYmxlcycpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImZuU3RhdGVMb2FkUGFyYW1zXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MsIG9EYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIG9EYXRhLmFiVmlzQ29scyA9IHZpc2libGVDb2xzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJmbkRyYXdDYWxsYmFja1wiOiBmdW5jdGlvbiAob1NldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VEaWdpdGFsUmVjZWlwdCgpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlRFZMYXVuY2hlcnMoXCJhbGxcIiwgMCwgcGFydF9pZCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VSZWZyZXNoUm93KFwiYWxsXCIsIDAsIHBhcnRfaWQsIDApO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlVXBsb2FkQm94KFwiYWxsXCIsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlWmlwRG93bmxvYWRzKHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlQ2hlY2tib3hlcygwLCBwYXJ0X2lkKTtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGlzZVVuYW5veW1pc2VGb3JtKFwiYWxsXCIsIDAsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcGFydF9pZCA9ICQodGhpcykuYXR0cihcImlkXCIpO1xuXG4gICAgICAgICAgICAvLyBQb3B1bGF0ZSBQZWVybWFyayBTZWN0aW9uIG9mIFBhcnQgRGV0YWlscy5cbiAgICAgICAgICAgIHJlZnJlc2hQZWVybWFya0Fzc2lnbm1lbnRzKHBhcnRfaWQsIDApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJCgnLm1lc3NhZ2VzX2Ftb3VudCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlZnJlc2hVc2VyTWVzc2FnZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlcG9zaXRpb24gbGlua3MvZGl2cy5cbiAgICAgICAgJCgnLnRpaV90YWJsZV9mdW5jdGlvbnMnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKCdpZCcpLnNwbGl0KCd0aWlfdGFibGVfZnVuY3Rpb25zXycpWzFdO1xuXG4gICAgICAgICAgICB2YXIgdGlpX3RhYmxlX2Z1bmN0aW9ucyA9ICQoXCIjdGlpX3RhYmxlX2Z1bmN0aW9uc19cIiArIHBhcnRfaWQpLmh0bWwoKTtcbiAgICAgICAgICAgICQoJyN0aWlfdGFibGVfZnVuY3Rpb25zXycgKyBwYXJ0X2lkKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArICdfbGVuZ3RoJykuYWZ0ZXIodGlpX3RhYmxlX2Z1bmN0aW9ucyk7XG4gICAgICAgICAgICAkKCcubWVzc2FnZXNfaW5ib3gnKS5zaG93KCk7XG5cbiAgICAgICAgICAgICQoJyNyZWZyZXNoXycgKyBwYXJ0X2lkKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjcmVmcmVzaGluZ18nICsgcGFydF9pZCkuaGlkZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgemlwX2Rvd25sb2FkcyA9ICQoXCIuemlwX2Rvd25sb2Fkc1wiKTtcblxuICAgICAgICAkLmVhY2goemlwX2Rvd25sb2FkcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBhcnRfaWQgPSAkKHRoaXMpLmF0dHIoJ2lkJykuc3BsaXQoJ18nKVsxXTtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyAnX2xlbmd0aCcpLmFmdGVyKCQodGhpcykpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJChcIiN1c2VyX3JvbGVcIikuaHRtbCgpID09IFwiTGVhcm5lclwiKSB7XG4gICAgICAgICAgICAkKFwiLmRhdGFUYWJsZXNfbGVuZ3RoLCAuZGF0YVRhYmxlc19maWx0ZXIsIC5kdF9wYWdpbmF0aW9uXCIpLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIHJlZnJlc2ggc3VibWlzc2lvbnMgbGluayBpcyBjbGlja2VkLCB0aGUgZGF0YSBpbiBlYWNoIGRhdGF0YWJsZSBuZWVkcyB0byBiZSByZWxvYWRlZC5cbiAgICAgICAgJChcIi5yZWZyZXNoX2xpbmtcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaXMoXCI6dmlzaWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICQoXCIucmVmcmVzaF9saW5rXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKFwiLnJlZnJlc2hpbmdfbGlua1wiKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUmVxdWVzdGVkWyQodGhpcykuYXR0cihcImlkXCIpXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRUYWJsZXNbJCh0aGlzKS5hdHRyKFwiaWRcIildLmZuUmVsb2FkQWpheCgpO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0VGFibGVzWyQodGhpcykuYXR0cihcImlkXCIpXS5mblN0YW5kaW5nUmVkcmF3KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFN5bmMgYWxsIGdyYWRlcyBsaW5rIGluIHNldHRpbmdzIHBhZ2UuXG4gICAgICAgIGlmICgkKCcjdHVybml0aW5fc3luY19hbGxfZ3JhZGVzJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLnR1cm5pdGluX3N5bmNfZ3JhZGVzJykuY2xpY2soZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgJCgnLnR1cm5pdGluX3N5bmNfZ3JhZGVzJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy50dXJuaXRpbl9zeW5jaW5nX2dyYWRlcycpLnNob3coKTtcblxuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246IFwic3luY19hbGxfc3VibWlzc2lvbnNcIiwgYXNzaWdubWVudDogJCgnI3R1cm5pdGluX3N5bmNfYWxsX2dyYWRlcycpLmRhdGEoJ3R1cm5pdGludG9vbHR3b2lkJyksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy50dXJuaXRpbl9zeW5jX2dyYWRlcycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy50dXJuaXRpbl9zeW5jaW5nX2dyYWRlcycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNpemUgd2luZG93IGlmIHN1Ym1pc3Npb24gaGFzIGZhaWxlZC5cbiAgICAgICAgaWYgKCQoJy5zdWJtaXNzaW9uX2ZhaWx1cmVfbXNnJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2luZG93LnBhcmVudC4kKCcudXBsb2FkX2JveCcpLmNvbG9yYm94LnJlc2l6ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiODAwcHhcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjQwcHhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnJvbCBhbGwgc3R1ZGVudHMgbGluayBvbiB0aGUgZW5yb2xsZWQgc3R1ZGVudHMgcGFnZS5cbiAgICAgICAgJChcIi5lbnJvbF9saW5rXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIjZW5yb2xsaW5nX2Vycm9yXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIuZW5yb2xfbGlua1wiKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiLmVucm9sbGluZ19jb250YWluZXJcIikuc2hvdygpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246IFwiZW5yb2xfYWxsX3N0dWRlbnRzXCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5IH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5lbnJvbF9saW5rXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5lbnJvbGxpbmdfY29udGFpbmVyXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNlbnJvbGxpbmdfZXJyb3JcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUnVicmljIE1hbmFnZXIuXG4gICAgICAgIGlmICgkKCcucnVicmljX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLnJ1YnJpY19tYW5hZ2VyX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjgzMnB4XCIsIGhlaWdodDogXCI2ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX21hbmFnZXJcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZnJlc2ggUnVicmljIGRyb3AgZG93biBpbiBhZGQvdXBkYXRlIGZvcm0uXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJpZFwiKSAhPSAncnVicmljX21hbmFnZXJfaW5ib3hfbGF1bmNoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFJ1YnJpY1NlbGVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUnVicmljIFZpZXcuXG4gICAgICAgIGlmICgkKCcucnVicmljX3ZpZXdfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLnJ1YnJpY192aWV3X2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjgzMnB4XCIsIGhlaWdodDogXCI2ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX3ZpZXdcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IHdhcm5pbmcgd2hlbiBjaGFuZ2luZyB0aGUgcnVicmljIGxpbmtlZCB0byBhbiBhc3NpZ25tZW50LlxuICAgICAgICAkKCcjaWRfcnVicmljLCAjaWRfcGxhZ2lhcmlzbV9ydWJyaWMnKS5tb3VzZWRvd24oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCQoJ2lucHV0W25hbWU9XCJpbnN0YW5jZVwiXScpLnZhbCgpICE9ICcnICYmICQoJ2lucHV0W25hbWU9XCJydWJyaWNfd2FybmluZ19zZWVuXCJdJykudmFsKCkgIT0gJ1knKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oTS5zdHIudHVybml0aW50b29sdHdvLmNoYW5nZXJ1YnJpY3dhcm5pbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJydWJyaWNfd2FybmluZ19zZWVuXCJdJykudmFsKCdZJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUXVpY2ttYXJrIE1hbmFnZXIuXG4gICAgICAgIGlmICgkKCcucXVpY2ttYXJrX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCB8fCAkKCcucGxhZ2lhcmlzbV90dXJuaXRpbl9xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcucXVpY2ttYXJrX21hbmFnZXJfbGF1bmNoLCAucGxhZ2lhcmlzbV90dXJuaXRpbl9xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgaWZyYW1lOiB0cnVlLCB3aWR0aDogXCI3NzBweFwiLCBoZWlnaHQ6IFwiNjAwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInF1aWNrbWFya19tYW5hZ2VyXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIFBlZXJtYXJrIE1hbmFnZXIuXG4gICAgICAgIGlmICgkKCcudGlpX3BlZXJtYXJrX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLnRpaV9wZWVybWFya19tYW5hZ2VyX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjgwMnB4XCIsIGhlaWdodDogXCI3NzJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicGVlcm1hcmtfbWFuYWdlclwiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBlZXJtYXJrQXNzaWdubWVudHMoaWRTdHJbMl0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIFBlZXJtYXJrIFJldmlld3MuXG4gICAgICAgIGlmICgkKCcudGlpX3BlZXJtYXJrX3Jldmlld3NfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLnRpaV9wZWVybWFya19yZXZpZXdzX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjgwMnB4XCIsIGhlaWdodDogXCI3NzJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicGVlcm1hcmtfcmV2aWV3c1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSB0dXJuaXRpbiBtZXNzYWdlIGluYm94LlxuICAgICAgICBpZiAoJChcIi5tZXNzYWdlc19pbmJveFwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKFwiLm1lc3NhZ2VzX2luYm94XCIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjc3MnB4XCIsIGhlaWdodDogXCI3NzJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwibWVzc2FnZXNcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsIGNsb3NlQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBmb3JtIHRvIG1lc3NhZ2Ugbm9uIHN1Ym1pdHRlcnMuXG4gICAgICAgIGlmICgkKFwiLm5vbnN1Ym1pdHRlcnNfbGlua1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKFwiLm5vbnN1Ym1pdHRlcnNfbGlua1wiKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgaWZyYW1lOiB0cnVlLCB3aWR0aDogXCI3NDBweFwiLCBoZWlnaHQ6IFwiNTQwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcIm5vbnN1Ym1pdHRlcnNcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsIGNsb3NlQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2l6ZSB3aW5kb3cgd2hlbiBlbWFpbCBoYXMgYmVlbiBzZW50LlxuICAgICAgICBpZiAoJCgnLm5vbnN1Ym1pdHRlcnNmb3Jtc3VjY2Vzc21zZycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB3aW5kb3cucGFyZW50LiQoJy5ub25zdWJtaXR0ZXJzJykuY29sb3Jib3gucmVzaXplKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogXCI3NDBweFwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMjBweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBFbWFpbCBub24gc3VibWl0dGVycyBmb3JtLlxuICAgICAgICBpZiAoJCgnLnJ1YnJpY192aWV3X2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJy5ydWJyaWNfdmlld19sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgaWZyYW1lOiB0cnVlLCB3aWR0aDogXCI4MzJweFwiLCBoZWlnaHQ6IFwiNjgycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInJ1YnJpY192aWV3XCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3BlbiB0aGUgRFYgaW4gYSBuZXcgd2luZG93IGluIHN1Y2ggYSB3YXkgYXMgdG8gbm90IGJlIGJsb2NrZWQgYnkgcG9wdXBzLlxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmRlZmF1bHRfb3BlbiwgLm9yaWdyZXBvcnRfb3BlbiwgLmdyYWRlbWFya19vcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByb2NlZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgdmFyIGR1ZV9kYXRlID0gJCgnI2RhdGVfZHVlXycgKyBpZFN0clsyXSkuaHRtbCgpO1xuICAgICAgICAgICAgdmFyIGR1ZV9kYXRlX3VuaXggPSBtb21lbnQoZHVlX2RhdGUpLnVuaXgoKTtcblxuICAgICAgICAgICAgdmFyIGR2dHlwZSA9IGlkU3RyWzBdO1xuICAgICAgICAgICAgdmFyIHN1Ym1pc3Npb25faWQgPSBpZFN0clsxXTtcbiAgICAgICAgICAgIHZhciBwYXJ0X2lkID0gaWRTdHJbMl07XG5cbiAgICAgICAgICAgIC8vIFNob3cgcmVzdWJtaXNzaW9uIGdyYWRlIHdhcm5pbmcgaWYgdGhlIGR1ZSBkYXRlIGhhcyBub3QgcGFzc2VkLlxuICAgICAgICAgICAgaWYgKGR1ZV9kYXRlX3VuaXggPiBtb21lbnQoKS51bml4KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnZ3JhZGVkX3dhcm5pbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm0oTS5zdHIudHVybml0aW50b29sdHdvLnJlc3VibWlzc2lvbmdyYWRld2FybikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2NlZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb2NlZWQpIHtcbiAgICAgICAgICAgICAgICBkdldpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgICAgdmFyIGxvYWRpbmcgPSAnPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPic7XG4gICAgICAgICAgICAgICAgbG9hZGluZyArPSAnPGltZyBzcmM9XCInICsgTS5jZmcud3d3cm9vdCArICcvbW9kL3R1cm5pdGludG9vbHR3by9waXgvdGlpSWNvbi5zdmdcIiBzdHlsZT1cIndpZHRoOjEwMHB4OyBoZWlnaHQ6IDEwMHB4XCI+JztcbiAgICAgICAgICAgICAgICBsb2FkaW5nICs9ICc8cCBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1wiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28ubG9hZGluZ2R2ICsgJzwvcD4nO1xuICAgICAgICAgICAgICAgIGxvYWRpbmcgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgJChkdldpbmRvdy5kb2N1bWVudC5ib2R5KS5odG1sKGxvYWRpbmcpO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IGh0bWwgdG8gbGF1bmNoIERWLlxuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246IGR2dHlwZSwgc3VibWlzc2lvbjogc3VibWlzc2lvbl9pZCwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZHZXaW5kb3cuZG9jdW1lbnQuYm9keSkuaHRtbChsb2FkaW5nICsgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdldpbmRvdy5kb2N1bWVudC5mb3Jtc1swXS5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR2V2luZG93LmRvY3VtZW50LmNsb3NlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrRFZDbG9zZWQocGFydF9pZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCQoXCIjaWRfcnVicmljXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlZnJlc2hSdWJyaWNTZWxlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE92ZXJyaWRlIGFueSB0aGVtZSB0aGF0IHB1dHMgYSBiYWNrZ3JvdW5kIG9uIHRoZSBodG1sIGVsZW1lbnQgd2hpY2ggZ2V0cyBzZXQgb24gYW4gaWZyYW1lLlxuICAgICAgICBpZiAoc2VsZiAhPSB0b3AgJiYgJCgnI3ZpZXdfY29udGV4dCcpLmh0bWwoKSA9PSAnYm94Jykge1xuICAgICAgICAgICAgJCgnaHRtbCcpLmNzcygnYmFja2dyb3VuZCcsICdub25lJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZiAhPSB0b3AgJiYgJCgnI3ZpZXdfY29udGV4dCcpLmh0bWwoKSA9PSAnYm94X3NvbGlkJykge1xuICAgICAgICAgICAgJCgnaHRtbCcpLmNzcygnYmFja2dyb3VuZCcsICcjRkZGJyk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcuZWRpdGFibGVfcG9zdGR1ZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuZGF0YSgnYW5vbicpID09IDEpIHtcbiAgICAgICAgICAgICAgICBhbGVydChNLnN0ci50dXJuaXRpbnRvb2x0d28ucG9zdGRhdGVfd2FybmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5tYXhfbWFya3Nfd2FybmluZycpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYWxlcnQoTS5zdHIudHVybml0aW50b29sdHdvLm1heF9tYXJrc193YXJuaW5nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCQoJy5lZGl0YWJsZV90ZXh0JykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5tb2RlID0gJ2lubGluZSc7XG4gICAgICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLnVybCA9ICdhamF4LnBocCc7XG4gICAgICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLm9uYmx1ciA9ICdzdWJtaXQnO1xuICAgICAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5zaG93YnV0dG9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5hamF4T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJy5lZGl0YWJsZV90ZXh0JykuZWRpdGFibGUoe1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignaWQnKS5pbmRleE9mKFwibWFya3NfXCIpID49IDAgJiYgKE1hdGguZmxvb3IodmFsdWUpICE9IHZhbHVlIHx8ICEkLmlzTnVtZXJpYyh2YWx1ZSkgfHwgdmFsdWUuaW5kZXhPZihcIi5cIikgIT0gLTEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTS5zdHIudHVybml0aW50b29sdHdvLm1heG1hcmtzZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UubXNnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmZpZWxkID09IFwibWF4bWFya3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3JlZnJlc2hfJyArIHJlc3BvbnNlLnBhcnRpZCkuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBncmFkZWJvb2suXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBhY3Rpb246IFwic3luY19hbGxfc3VibWlzc2lvbnNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZmllbGQgPT0gXCJwYXJ0bmFtZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiSWQgPSAkKHRoaXMpLnBhcmVudHNVbnRpbCgnLnVpLXRhYnMtcGFuZWwnKS5wYXJlbnQoKS5hdHRyKCdhcmlhLWxhYmVsbGVkYnknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgdGFiSWQpLnRleHQobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICgkKCcjZXhwb3J0X29wdGlvbnMnKS5oYXNDbGFzcygndGlpX2V4cG9ydF9vcHRpb25zX2hpZGUnKSkge1xuICAgICAgICAgICAgICAgICQoJyNleHBvcnRfb3B0aW9ucycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcuZXhwb3J0X2RhdGEnKS5odG1sKCc8c3BhbiBjbGFzcz1cImVtcHR5LWRhc2hcIj4tLTwvc3Bhbj4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCgnLmVkaXRhYmxlX3Bvc3RkdWUnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGFjdGlvbjogJ2NoZWNrX2Fub24nLCBwYXJ0OiAkdGhpcy5kYXRhKCdwaycpLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnYW5vbicsIGRhdGFbJ2Fub24nXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCd1bmFub24nLCBkYXRhWyd1bmFub24nXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdzdWJtaXR0ZWQnLCBkYXRhWydzdWJtaXR0ZWQnXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZScpLmVkaXRhYmxlKHtcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdjb21ib2RhdGUnLFxuICAgICAgICAgICAgICAgICdmb3JtYXQnOiAnWVlZWS1NTS1ERCBISDptbScsXG4gICAgICAgICAgICAgICAgJ3ZpZXdmb3JtYXQnOiAnRCBNTU0gWVlZWSwgSEg6bW0nLFxuICAgICAgICAgICAgICAgICd0ZW1wbGF0ZSc6ICdEIE1NTSBZWVlZICBISDptbScsXG4gICAgICAgICAgICAgICAgJ2NvbWJvZGF0ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ21pbnV0ZVN0ZXAnOiAxLFxuICAgICAgICAgICAgICAgICAgICAnbWluWWVhcic6IDIwMDAsXG4gICAgICAgICAgICAgICAgICAgICdtYXhZZWFyJzogdGhlRGF0ZS5nZXRGdWxsWWVhcigpICsgMixcbiAgICAgICAgICAgICAgICAgICAgJ3NtYXJ0RGF5cyc6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmZvcm1hdChcIlhcIikgPCBtb21lbnQoKS51bml4KCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuaGFzQ2xhc3MoJ2VkaXRhYmxlX3Bvc3RkdWUnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdhbm9uJykgPT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCd1bmFub24nKSA9PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ3N1Ym1pdHRlZCcpID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29uZmlybShNLnN0ci50dXJuaXRpbnRvb2x0d28uZGlzYWJsZWFub25jb25maXJtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5lZGl0YWJsZS1vcGVuJykuZWRpdGFibGVDb250YWluZXIoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0aW9uIG9ubHkgZmFpbHMgaWYgc3RyaW5nIGlzIHJldHVybmVkIChXZSBuZWVkIGEgc3RyaW5nKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLm1zZztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNyZWZyZXNoXycgKyByZXNwb25zZS5wYXJ0aWQpLmNsaWNrKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5leHBvcnRfb3B0aW9uID09IFwidGlpX2V4cG9ydF9vcHRpb25zX2hpZGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNleHBvcnRfb3B0aW9ucycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuZXhwb3J0X2RhdGEnKS5odG1sKCc8c3BhbiBjbGFzcz1cImVtcHR5LWRhc2hcIj4tLTwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVtcHR5LWRhc2gnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjZXhwb3J0X29wdGlvbnMnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2VkaXRhYmxlLWRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBEaXNhYmxlIG90aGVyIGVkaXRhYmxlIGZpZWxkcyAmIEdyYWRpbmcgdGVtcGxhdGUgc3VibWlzc2lvbnMgd2hlbiBhbiBlZGl0YWJsZSBmb3JtIGlzIG9wZW5lZC5cbiAgICAgICAgICAgICQoJy5lZGl0YWJsZV9kYXRlLCAuZWRpdGFibGVfdGV4dCcpLm9uKCdzaG93bicsIGZ1bmN0aW9uIChlLCBlZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gKCQodGhpcykucHJvcCgnaWQnKSk7XG4gICAgICAgICAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUsIC5lZGl0YWJsZV90ZXh0Jykubm90KCcjJyArIGN1cnJlbnQpLmVkaXRhYmxlKCdkaXNhYmxlJyk7XG4gICAgICAgICAgICAgICAgJCgnLnN1Ym1pdF9ub3RoaW5nJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gRW5hYmxlIG90aGVyIGVkaXRhYmxlIGZpZWxkcyAmIEdyYWRpbmcgdGVtcGxhdGUgc3VibWlzc2lvbnMgd2hlbiBhbiBlZGl0YWJsZSBmb3JtIGlzIGNsb3NlZC5cbiAgICAgICAgICAgICQoJy5lZGl0YWJsZV9kYXRlLCAuZWRpdGFibGVfdGV4dCcpLm9uKCdoaWRkZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAoJCh0aGlzKS5wcm9wKCdpZCcpKTtcbiAgICAgICAgICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZSwgLmVkaXRhYmxlX3RleHQnKS5ub3QoJyMnICsgY3VycmVudCkuZWRpdGFibGUoJ2VuYWJsZScpO1xuICAgICAgICAgICAgICAgICQoJy5zdWJtaXRfbm90aGluZycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjaW5ib3hfZm9ybSBmb3JtLCAubGF1bmNoX2Zvcm0gZm9ybScpLnN1Ym1pdCgpO1xuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBFVUxBIC5cbiAgICAgICAgaWYgKCQoJy50dXJuaXRpbl9ldWxhX2xpbmsnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKCcudHVybml0aW5fZXVsYV9saW5rJykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTogdHJ1ZSwgd2lkdGg6IFwiNzY2cHhcIiwgaGVpZ2h0OiBcIjU5NnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJldWxhX3ZpZXdcIiwgc2Nyb2xsaW5nOiBcImZhbHNlXCIsXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7IGdldExvYWRpbmdHaWYoKTsgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS5vbihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IHR5cGVvZiBldi5kYXRhID09PSAndW5kZWZpbmVkJyA/IGV2Lm9yaWdpbmFsRXZlbnQuZGF0YSA6IGV2LmRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgbWFrZSBhamF4IHJlcXVlc3QgaWYgbWVzc2FnZSBpcyBvbmUgb2YgdGhlIGV4cGVjdGVkIHJlc3BvbnNlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlID09ICd0dXJuaXRpbl9ldWxhX2RlY2xpbmVkJyB8fCBtZXNzYWdlID09ICd0dXJuaXRpbl9ldWxhX2FjY2VwdGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJhY2NlcHR1c2VyYWdyZWVtZW50XCIsIG1lc3NhZ2U6IG1lc3NhZ2UsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5hYmxlIHRoZSBlZGl0aW5nIGZpZWxkcyBpbiB0aGUgaW5ib3ggcGFydHMgdGFibGUuXG4gICAgICAgIGZ1bmN0aW9uIGVuYWJsZUVkaXRpbmdUZXh0KHBhcnRfaWQpIHtcbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZWRpdGFibGVfZGF0ZSwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5lZGl0YWJsZV90ZXh0JykuZWRpdGFibGUoJ2VuYWJsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzYWJsZSB0aGUgZWRpdGluZyBmaWVsZHMgaW4gdGhlIGluYm94IHBhcnRzIHRhYmxlLlxuICAgICAgICBmdW5jdGlvbiBkaXNhYmxlRWRpdGluZ1RleHQocGFydF9pZCkge1xuICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5lZGl0YWJsZV9kYXRlLCAjdGFicy0nICsgcGFydF9pZCArICcgLmVkaXRhYmxlX3RleHQnKS5lZGl0YWJsZSgnZGlzYWJsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TG9hZGluZ0dpZigpIHtcbiAgICAgICAgICAgIHZhciBpbWcgPSAnPGRpdiBjbGFzcz1cImxvYWRpbmdfZ2lmXCI+PC9kaXY+JztcbiAgICAgICAgICAgICQoJyNjYm94T3ZlcmxheScpLmFmdGVyKGltZyk7XG4gICAgICAgICAgICB2YXIgdG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgKCQod2luZG93KS5oZWlnaHQoKSAvIDIpO1xuICAgICAgICAgICAgJCgnLmxvYWRpbmdfZ2lmJykuY3NzKCd0b3AnLCB0b3AgKyAncHgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGVMb2FkaW5nR2lmKCkge1xuICAgICAgICAgICAgJCgnLmxvYWRpbmdfZ2lmJykucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRTdWJtaXNzaW9ucyh0YWJsZSwgYXNzaWdubWVudF9pZCwgcGFydF9pZCwgc3RhcnQsIHJlZnJlc2hfcmVxdWVzdGVkLCB0b3RhbCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwiYXN5bmNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiZ2V0X3N1Ym1pc3Npb25zXCIsIGFzc2lnbm1lbnQ6IGFzc2lnbm1lbnRfaWQsIHBhcnQ6IHBhcnRfaWQsIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF9yZXF1ZXN0ZWQ6IHJlZnJlc2hfcmVxdWVzdGVkW3BhcnRfaWRdLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5LCB0b3RhbDogdG90YWxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSByZXN1bHQuZW5kO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYWFEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmZuQWRkRGF0YShyZXN1bHQuYWFEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZW5kIDwgcmVzdWx0LnRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRTdWJtaXNzaW9ucyh0YWJsZSwgYXNzaWdubWVudF9pZCwgcGFydF9pZCwgc3RhcnQsIHJlZnJlc2hfcmVxdWVzdGVkLCByZXN1bHQudG90YWwpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBwYXJ0X2lkICsgXCJfcHJvY2Vzc2luZ1wiKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiBoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF9yZXF1ZXN0ZWRbcGFydF9pZF0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsbHJlZnJlc2hlZCA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyZWZyZXNoX3JlcXVlc3RlZCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbHJlZnJlc2hlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxyZWZyZXNoZWQgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5yZWZyZXNoaW5nX2xpbmsnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnJlZnJlc2hfbGluaycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0VmlzaWJpbGl0eSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVFZGl0aW5nVGV4dChwYXJ0X2lkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIEVtYWlsIG5vbiBzdWJtaXR0ZXJzIGxpbmsgaWYgdGhlcmUgaXMgYW55IG5vbiBzdWJtaXR0ZXJzLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5ub25zdWJtaXR0ZXJzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5ub25zdWJtaXR0ZXJzX2xpbmsnKS5hdHRyKCdzdHlsZScsICdkaXNwbGF5OiBibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImVycm9yXCI6IGZ1bmN0aW9uIChkYXRhLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyBcIl9wcm9jZXNzaW5nXCIpLmF0dHIoJ3N0eWxlJywgJ3Zpc2liaWxpdHk6IGhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuZGF0YVRhYmxlc19lbXB0eScpLmh0bWwoTS5zdHIudHVybml0aW50b29sdHdvLnRpaXN1Ym1pc3Npb25zZ2V0ZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyBvciBoaWRlIHRoZSBzdWJtaXNzaW9uIGxpbmsgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIEVVTEEgaGFzIGJlZW4gYWNjZXB0ZWQuXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdFZpc2liaWxpdHkoKSB7XG4gICAgICAgICAgICBpZiAoKCQoXCIudXBsb2FkX2JveFwiKS5kYXRhKFwidXNlci10eXBlXCIpID09IDEpIHx8ICgkKFwiLnVwbG9hZF9ib3hcIikuZGF0YShcImV1bGFcIikgPT0gMSkpIHtcbiAgICAgICAgICAgICAgICAkKFwiLnVwbG9hZF9ib3hcIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJChcIi51cGxvYWRfYm94XCIpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgcnVicmljcyBiZWxvbmdpbmcgdG8gYSB1c2VyIGZyb20gVHVybml0aW4gYW5kIHJlZnJlc2ggbWVudSBhY2NvcmRpbmdseS5cbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaFJ1YnJpY1NlbGVjdCgpIHtcbiAgICAgICAgICAgIHZhciBydWJyaWNFbGVtZW50SWQgPSAoJCgnI2lkX3J1YnJpYycpLmxlbmd0aCkgPyAnI2lkX3J1YnJpYycgOiAnI2lkX3BsYWdpYXJpc21fcnVicmljJztcbiAgICAgICAgICAgIHZhciBjdXJyZW50UnVicmljID0gJChydWJyaWNFbGVtZW50SWQpLnZhbCgpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCIuLi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcInJlZnJlc2hfcnVicmljX3NlbGVjdFwiLCBhc3NpZ25tZW50OiAkKCdpbnB1dFtuYW1lPVwiaW5zdGFuY2VcIl0nKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlbmFtZTogJCgnaW5wdXRbbmFtZT1cIm1vZHVsZW5hbWVcIl0nKS52YWwoKSwgY291cnNlOiAkKCdpbnB1dFtuYW1lPVwiY291cnNlXCJdJykudmFsKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJChydWJyaWNFbGVtZW50SWQpKS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChvcHRpb25zLCBmdW5jdGlvbiAoaSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQuaXNOdW1lcmljKGkpICYmIGkgIT09IFwiXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRncm91cCA9ICQoJzxvcHRncm91cD4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRncm91cC5hdHRyKCdsYWJlbCcsIGkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHZhbCwgZnVuY3Rpb24gKGosIHJ1YnJpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gJChcIjxvcHRpb24+PC9vcHRpb24+XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsKGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dChydWJyaWMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGdyb3VwLmFwcGVuZChvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChydWJyaWNFbGVtZW50SWQpLmFwcGVuZChvcHRncm91cCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgkKHJ1YnJpY0VsZW1lbnRJZCkpLmFwcGVuZCgkKCc8b3B0aW9uPicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJChydWJyaWNFbGVtZW50SWQgKyAnIG9wdGlvblt2YWx1ZT1cIicgKyBjdXJyZW50UnVicmljICsgJ1wiXScpLmF0dHIoXCJzZWxlY3RlZFwiLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVmcmVzaCB0aGUgbnVtYmVyIG9mIG1lc3NhZ2VzIGluIHRoZSB1c2VyJ3MgVHVybml0aW4gaW5ib3guXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hVc2VyTWVzc2FnZXMoKSB7XG4gICAgICAgICAgICAkKCcubWVzc2FnZXNfbG9hZGluZycpLnNob3coKTtcbiAgICAgICAgICAgICQoJy5tZXNzYWdlc19hbW91bnQnKS5odG1sKCcnKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdodG1sJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7IGFjdGlvbjogXCJyZWZyZXNoX3VzZXJfbWVzc2FnZXNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkKCcubWVzc2FnZXNfbG9hZGluZycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2VzX2Ftb3VudCcpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIaWRlIFBlZXJtYXJrIGFzc2lnbm1lbnRzIGZvciByZWZyZXNoaW5nLlxuICAgICAgICBmdW5jdGlvbiByZXNldFBlZXJtYXJrU2VjdGlvbihwYXJ0X2lkKSB7XG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnRvZ2dsZV9wZWVybWFya3MnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2NvdW50JykuaHRtbCgnJyk7XG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrLWxvYWRpbmcnKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIFBlZXJtYXJrIEFzc2lnbm1lbnRzIGZyb20gVHVybml0aW4gYW5kIHNob3cgaW4gUGFydCBEZXRhaWxzIHNlY3Rpb24gb2YgaW5ib3guXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hQZWVybWFya0Fzc2lnbm1lbnRzKHBhcnRfaWQsIHJlZnJlc2hfcmVxdWVzdGVkKSB7XG5cbiAgICAgICAgICAgIHZhciB1c2VyX3JvbGUgPSAoJCgnLnRpaV9wZWVybWFya19tYW5hZ2VyX2xhdW5jaCcpLmxlbmd0aCA+IDApID8gJ0luc3RydWN0b3InIDogJ0xlYXJuZXInXG5cbiAgICAgICAgICAgIGlmICgkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgIHJlc2V0UGVlcm1hcmtTZWN0aW9uKHBhcnRfaWQpO1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcInJlZnJlc2hfcGVlcm1hcmtfYXNzaWdubWVudHNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0OiBwYXJ0X2lkLCByZWZyZXNoX3JlcXVlc3RlZDogcmVmcmVzaF9yZXF1ZXN0ZWQsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLmh0bWwoZGF0YS5wZWVybWFya190YWJsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmstbG9hZGluZycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfY291bnQnKS5odG1sKGRhdGEubm9fb2ZfcGVlcm1hcmtzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9fb2ZfcGVlcm1hcmtzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAudG9nZ2xlX3BlZXJtYXJrcycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC50b2dnbGVfcGVlcm1hcmtzJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGRhdGEubm9fb2ZfcGVlcm1hcmtzID4gMCAmJiB1c2VyX3JvbGUgPT0gJ0luc3RydWN0b3InKSB8fCAoZGF0YS5wZWVybWFya3NfYWN0aXZlICYmIHVzZXJfcm9sZSA9PSAnTGVhcm5lcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5yb3dfcGVlcm1hcmtfcmV2aWV3cycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpID09IFwidHJ1ZVwiICYmIGRhdGEubm9fb2ZfcGVlcm1hcmtzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmhpZGVfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgbGlnaHQgYm94IHdpdGggZm9ybSB0byByZXZlYWwgdGhlIHN0dWRlbnQncyBuYW1lIG9uIGFuIGFub255bWlzZWQgc3VibWlzc2lvbi5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGlzZVVuYW5veW1pc2VGb3JtKHNjb3BlLCBhc3NpZ25tZW50X2lkLCBzdWJtaXNzaW9uX2lkKSB7XG4gICAgICAgICAgICB2YXIgaWRlbnRpZmllciA9ICdhLnVuYW5vbnltaXNlJztcbiAgICAgICAgICAgIGlmIChzY29wZSA9PSBcInJvd1wiKSB7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllciA9ICcjc3VibWlzc2lvbl8nICsgc3VibWlzc2lvbl9pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoaWRlbnRpZmllcikuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlubGluZTogdHJ1ZSwgd2lkdGg6IFwiNTAlXCIsIHRvcDogXCIxMDBweFwiLCBoZWlnaHQ6IFwiMjYwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInRpaV91bmFub255bWlzZV9yZXZlYWxfZm9ybVwiLFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VibWlzc2lvbl9pZCA9PSAwIHx8IHN1Ym1pc3Npb25faWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWlzc2lvbl9pZCA9IGlkU3RyWzFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NpZ25tZW50X2lkID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRfaWQgPSAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAkKFwiI3N1Ym1pc3Npb25faWRcIikuaHRtbChzdWJtaXNzaW9uX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2Nib3hMb2FkZWRDb250ZW50IC51bmFub255bWlzZV9mb3JtJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfcmV2ZWFsJykudW5iaW5kKFwiY2xpY2tcIik7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9yZXZlYWwnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcInJldmVhbF9zdWJtaXNzaW9uX25hbWVcIiwgYXNzaWdubWVudDogYXNzaWdubWVudF9pZCwgc3VibWlzc2lvbl9pZDogc3VibWlzc2lvbl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBlbmNvZGVVUklDb21wb25lbnQoJChcIiNpZF9hbm9ueW1vdXNfcmV2ZWFsX3JlYXNvblwiKS52YWwoKSksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5jb2xvcmJveC5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc3VibWlzc2lvbl8nICsgc3VibWlzc2lvbl9pZCkuYXR0cignaHJlZicsIE0uY2ZnLnd3d3Jvb3QgKyBcIi91c2VyL3ZpZXcucGhwP2lkPVwiICsgZGF0YS51c2VyaWQgKyBcIiZjb3Vyc2U9XCIgKyBkYXRhLmNvdXJzZWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkKS5odG1sKGRhdGEubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc3VibWlzc2lvbl8nICsgc3VibWlzc2lvbl9pZCkucmVtb3ZlQ2xhc3MoJ3VuYW5vbnltaXNlIGNib3hFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudF9tc2cgPSAkKCcjdW5hbm9ueW1pc2VfZGVzYycpLmh0bWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdW5hbm9ueW1pc2VfZGVzYycpLmh0bWwoY3VycmVudF9tc2cgKyBcIiBcIiArIGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcudW5hbm9ueW1pc2VfZm9ybScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VVcGxvYWRCb3goc2NvcGUsIHN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpIHtcbiAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gXCIudXBsb2FkX2JveFwiO1xuICAgICAgICAgICAgaWYgKHNjb3BlID09IFwicm93XCIpIHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyID0gXCIjdXBsb2FkX1wiICsgc3VibWlzc2lvbl9pZCArIFwiX1wiICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNvbG9yQm94V2lkdGggPSBcIjgwJVwiO1xuICAgICAgICAgICAgdmFyIGNvbG9yQm94SGVpZ2h0ID0gXCI4MCVcIjtcblxuICAgICAgICAgICAgJChpZGVudGlmaWVyKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbiAoKSB7IGhpZGVMb2FkaW5nR2lmKCk7IH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEluYm94Um93KFwidXBsb2FkXCIsIGlkU3RyWzFdLCBpZFN0clsyXSwgaWRTdHJbM10pO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBjb2xvckJveFdpZHRoLCBoZWlnaHQ6IGNvbG9yQm94SGVpZ2h0LCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwidXBsb2FkXCIsIHRyYW5zaXRpb246IFwibm9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpc2UgdGhlIGV2ZW50cyB0byBvcGVuIHRoZSB6aXAgZmlsZXMgY29udGFpbmVkIGluIHRoZSBwYXJ0IGRldGFpbHMgaW5mb3JtYXRpb24gdGFibGU6XG4gICAgICAgIC8vIEluYm94IGluIFhMUyBmb3JtYXRcbiAgICAgICAgLy8gWklQIGNvbnRhaW5pbmcgYWxsIGZpbGVzIGFzIFBERnNcbiAgICAgICAgLy8gWklQIGNvbnRhaW5pbmcgYWxsIGZpbGVzIGluIG9yaWdpbmFsIGZvcm1hdC5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGlzZVppcERvd25sb2FkcyhwYXJ0X2lkKSB7XG4gICAgICAgICAgICAvLyBVbmJpbmQgdGhlIGV2ZW50IGZpcnN0IHRvIHN0b3AgaXQgYmVpbmcgYmluZGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnX3ppcF9vcGVuLCAjdGFicy0nICsgcGFydF9pZCArICcgLnBkZl96aXBfb3BlbiwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC54bHNfaW5ib3hfb3BlbicpLnVuYmluZChcImNsaWNrXCIpO1xuXG4gICAgICAgICAgICAvLyBPcGVuIGEgc3ByZWFkc2hlZXQgb3IgYSB6aXAgZmlsZSBjb250YWluaW5nIGFsbCB0aGUgcmVsZXZhbnQgZGF0YS5cbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAub3JpZ196aXBfb3BlbiwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZGZfemlwX29wZW4sICN0YWJzLScgKyBwYXJ0X2lkICsgJyAueGxzX2luYm94X29wZW4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIGRvd25sb2FkWmlwRmlsZShpZFN0clswXSArIFwiX1wiICsgaWRTdHJbMV0sIGlkU3RyWzJdKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggd2hpY2ggcmVxdWVzdHMgYWxsIHRoZSBzdWJtaXNzaW9ucyBhcyBwZGZzIGZyb20gVHVybml0aW4uXG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmRvd25sb2FkcGRmX2JveCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjQwJVwiLCBoZWlnaHQ6IFwiNjAlXCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJkb3dubG9hZHBkZl93aW5kb3dcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNsb3NlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVXNlck1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCB3aGljaCByZXF1ZXN0cyBzZWxlY3RlZCBzdWJtaXNzaW9ucyBhcyBwZGZzIGZyb20gVHVybml0aW4uXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5nbXBkZnppcF9ib3gnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICQodGhpcykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgICAgICBvcGVuOiB0cnVlLCBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjc4NnB4XCIsIGhlaWdodDogXCIzMDBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwiZ21wZGZ6aXBfd2luZG93XCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWlzc2lvbl9pZHMgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94OmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbl9pZHMgKz0gXCImc3VibWlzc2lvbl9pZFwiICsgaSArIFwiPVwiICsgJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuYXR0cignaHJlZicpICsgc3VibWlzc2lvbl9pZHM7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkgeyBnZXRMb2FkaW5nR2lmKCk7IH0sXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24gKCkgeyBoaWRlTG9hZGluZ0dpZigpOyB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFVzZXJNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBsaWdodEJveENsb3NlQnV0dG9uKCkge1xuICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBpZD1cInRpaV9jbG9zZV9iYXJcIj48YSBocmVmPVwiI1wiIG9uY2xpY2s9XCJqUXVlcnkoXFwnI2Nib3hDbG9zZVxcJykuY2xpY2soKTsgcmV0dXJuIGZhbHNlO1wiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28uY2xvc2VidXR0b24gKyAnPC9hPjwvZGl2PicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGlzZURpZ2l0YWxSZWNlaXB0KCkge1xuICAgICAgICAgICAgaWYgKCQoJy50aWlfZGlnaXRhbF9yZWNlaXB0JykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICQoJy50aWlfZGlnaXRhbF9yZWNlaXB0JykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWU6IHRydWUsIHdpZHRoOiBcIjgzMnB4XCIsIGhlaWdodDogXCI0ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX3ZpZXdcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjdGlpX3JlY2VpcHRfcHJpbnQnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGlzZUhpZGRlblppcERvd25sb2FkcyhwYXJ0X2lkKSB7XG4gICAgICAgICAgICAvLyBVbmJpbmQgdGhlIGV2ZW50IGZpcnN0IHRvIHN0b3AgaXQgYmVpbmcgYmluZGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnY2hlY2tlZF96aXBfb3BlbicpLnVuYmluZChcImNsaWNrXCIpO1xuICAgICAgICAgICAgLy8gU2VwZXJhdGUgYmluZGVyIGZvciBoaWRkZW4gemlwIGZpbGUgbGluay5cbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAub3JpZ2NoZWNrZWRfemlwX29wZW4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIGRvd25sb2FkWmlwRmlsZShpZFN0clswXSArIFwiX1wiICsgaWRTdHJbMV0sIHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGlzZVJlZnJlc2hSb3coc2NvcGUsIHN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpIHtcbiAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gXCIucmVmcmVzaF9yb3cgLmZhLXJlZnJlc2hcIjtcbiAgICAgICAgICAgIGlmIChzY29wZSA9PSBcInJvd1wiKSB7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllciA9IFwiI3JlZnJlc2hyb3dfXCIgKyBzdWJtaXNzaW9uX2lkICsgJ18nICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZCArIFwiIC5mYS1yZWZyZXNoXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgZmlyc3QgdG8gc3RvcCBpdCBiZWluZyBiaW5kZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICAgICAkKGlkZW50aWZpZXIpLnVuYmluZChcImNsaWNrXCIpO1xuXG4gICAgICAgICAgICAkKGlkZW50aWZpZXIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCcuZmEtc3Bpbm5lcicpLmNzcyhcImRpc3BsYXlcIiwgXCJpbmxpbmUtYmxvY2tcIikuYWRkQ2xhc3MoJ2ZhLWxnJyk7XG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5wYXJlbnQoKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hJbmJveFJvdyhpZFN0clswXSwgaWRTdHJbMV0sIGlkU3RyWzJdLCBpZFN0clszXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXRpYWxpc2UgdGhlIGV2ZW50cyB0byBvcGVuIHRoZSBkb2N1bWVudCB2aWV3ZXIgYXMgdGhlIGxpbmtzIGFyZSBsb2FkZWQgYWZ0ZXIgdGhlIHBhZ2UuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VEVkxhdW5jaGVycyhzY29wZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICAgICAgdmFyIGlkZW50aWZpZXIgPSAnIycgKyBwYXJ0X2lkICsgJyAuZG93bmxvYWRfb3JpZ2luYWxfb3Blbic7XG4gICAgICAgICAgICBpZiAoc2NvcGUgPT0gXCJyb3dcIikge1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSAnI2Rvd25sb2Fkb3JpZ2luYWxfJyArIHN1Ym1pc3Npb25faWQgKyAnXycgKyBwYXJ0X2lkICsgJ18nICsgdXNlcl9pZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVW5iaW5kIHRoZSBldmVudCBmaXJzdCB0byBzdG9wIGl0IGJlaW5nIGJpbmRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgICQoaWRlbnRpZmllcikudW5iaW5kKFwiY2xpY2tcIik7XG5cbiAgICAgICAgICAgICQoaWRlbnRpZmllcikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBvcGVuIE9SIERWIGlmIHNjb3JlIGlzIHBlbmRpbmcuXG4gICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmNoaWxkcmVuKCcuc2NvcmVfY29sb3VyJykuaGFzQ2xhc3MoJ3Njb3JlX2NvbG91cl8nKSkge1xuICAgICAgICAgICAgICAgICAgICBkb3dubG9hZE9yaWdpbmFsRmlsZShpZFN0clswXSwgaWRTdHJbMV0sIGlkU3RyWzJdLCBpZFN0clszXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQdXQgdGhlIGZvcm0gaW4gdG8gdGhlIHN1Ym1pc3Npb25zIHRhYmxlIHJvdyBhbmQgc3VibWl0IGl0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgZG93bmxvYWQgdGhlIHJlbGV2YW50IHppcCBmaWxlLlxuICAgICAgICBmdW5jdGlvbiBkb3dubG9hZFppcEZpbGUoZG93bmxvYWR0eXBlLCBwYXJ0X2lkKSB7XG4gICAgICAgICAgICB2YXIgc3VibWlzc2lvbl9pZHMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKGRvd25sb2FkdHlwZSA9PSBcIm9yaWdjaGVja2VkX3ppcFwiIHx8IGRvd25sb2FkdHlwZSA9PSBcImdtcGRmX3ppcFwiKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5pbmJveF9jaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uX2lkc1tpXSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgYWN0aW9uOiBkb3dubG9hZHR5cGUsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBwYXJ0OiBwYXJ0X2lkLCBzdWJtaXNzaW9uX2lkczogc3VibWlzc2lvbl9pZHMgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkKFwiI1wiICsgZG93bmxvYWR0eXBlICsgXCJfZm9ybV9cIiArIHBhcnRfaWQpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkb3dubG9hZHR5cGUgKyBcIl9mb3JtX1wiICsgcGFydF9pZCkuY2hpbGRyZW4oXCJmb3JtXCIpLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI1wiICsgZG93bmxvYWR0eXBlICsgXCJfZm9ybV9cIiArIHBhcnRfaWQpLmh0bWwoXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQdXQgdGhlIGZvcm0gaW4gdG8gdGhlIHN1Ym1pc3Npb25zIHRhYmxlIHJvdyBhbmQgc3VibWl0IGl0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgZG93bmxvYWQgdGhlIHJlbGV2YW50IG9yaWdpbmFsIGZpbGUuXG4gICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkT3JpZ2luYWxGaWxlKGR2dHlwZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICAgICAgLy8gR2V0IGh0bWwgdG8gbGF1bmNoIERWLlxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgYWN0aW9uOiBkdnR5cGUsIHN1Ym1pc3Npb246IHN1Ym1pc3Npb25faWQsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNcIiArIGR2dHlwZSArIFwiX2Zvcm1fXCIgKyBzdWJtaXNzaW9uX2lkKS5odG1sKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI1wiICsgZHZ0eXBlICsgXCJfZm9ybV9cIiArIHN1Ym1pc3Npb25faWQpLmNoaWxkcmVuKFwiZm9ybVwiKS5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNcIiArIGR2dHlwZSArIFwiX2Zvcm1fXCIgKyBzdWJtaXNzaW9uX2lkKS5odG1sKFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgRFYgaXMgc3RpbGwgb3BlbiwgcmVmcmVzaCB0aGUgb3BlbmluZyB3aW5kb3cgd2hlbiBpdCBjbG9zZXMuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrRFZDbG9zZWQocGFydF9pZCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5kdldpbmRvdy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAkKFwiI3JlZnJlc2hfXCIgKyBwYXJ0X2lkKS5jbGljaygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tEVkNsb3NlZChwYXJ0X2lkKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhdGUgYSBub3RoaW5nIHN1Ym1pc3Npb24uXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdE5vdGhpbmcodXNlcl9pZCwgcGFydF9pZCkge1xuICAgICAgICAgICAgJChcIiNzdWJtaXRub3RoaW5nXzBfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkICsgXCIgaVwiKS5hdHRyKCdjbGFzcycsICdmYSBmYS1zcGluIGZhLXNwaW5uZXIgZmEtbGcnKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcInN1Ym1pdF9ub3RoaW5nXCIsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0OiBwYXJ0X2lkLCB1c2VyOiB1c2VyX2lkLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc3VibWl0bm90aGluZ2FjY2VwdCcsIHRydWUsIHsgZXhwaXJlczogMzY1IH0pO1xuICAgICAgICAgICAgICAgICAgICAkKCd0YWJsZSMnICsgcGFydF9pZCArICcgLnNlbGVjdF9hbGxfY2hlY2tib3gnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjc3VibWl0bm90aGluZ18wX1wiICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZCArIFwiIGlcIikuYXR0cignY2xhc3MnLCAnZmEgZmEtcGVuY2lsIGZhLWxnJyk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjc3VibWl0bm90aGluZ18wX1wiICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZCkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hJbmJveFJvdygnc3VibWl0bm90aGluZycsIDAsIHBhcnRfaWQsIHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVmcmVzaCBhIHJvdyBpbiB0aGUgaW5ib3ggYWZ0ZXIgYSBzdWJtaXNzaW9uIGhhcyBiZWVuIG1hZGUgb3IgRFYgY2xvc2VkLlxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoSW5ib3hSb3cobGluaywgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwicmVmcmVzaF9zdWJtaXNzaW9uX3Jvd1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcGFydDogcGFydF9pZCwgdXNlcjogdXNlcl9pZCwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgndGFibGUjJyArIHBhcnRfaWQgKyAnIC5zZWxlY3RfYWxsX2NoZWNrYm94JykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VibWlzc2lvbl9pZCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rICs9IFwiXzBcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25faWQgPSBkYXRhLnN1Ym1pc3Npb25faWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdWJtaXNzaW9uX2lkID09IG51bGwgJiYgc3VibWlzc2lvbl9pZCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rID0gbGluayArIFwiX1wiICsgc3VibWlzc2lvbl9pZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rICsgXCJfXCIgKyBkYXRhLnN1Ym1pc3Npb25faWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBleHBvcnQgbGlua3MuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJtaXNzaW9uX2lkICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNleHBvcnRfbGlua3MnKS5yZW1vdmVDbGFzcygnaGlkZGVuX2NsYXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIHJvdyBhbmQgcmUtYWRkLlxuICAgICAgICAgICAgICAgICAgICBvVGFibGUgPSAkKCd0YWJsZSMnICsgcGFydF9pZCkuZGF0YVRhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ciA9ICQoXCIjXCIgKyBsaW5rICsgXCJfXCIgKyBwYXJ0X2lkICsgJ18nICsgdXNlcl9pZCkucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dpbmRleCA9IHRyLmluZGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIG9UYWJsZS5mbkRlbGV0ZVJvdyh0cik7XG4gICAgICAgICAgICAgICAgICAgIG9UYWJsZS5mbkFkZERhdGEoZGF0YS5yb3cpO1xuXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdFZpc2liaWxpdHkoKTtcblxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlVXBsb2FkQm94KFwicm93XCIsIGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VEVkxhdW5jaGVycyhcInJvd1wiLCBkYXRhLnN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlUmVmcmVzaFJvdyhcInJvd1wiLCBkYXRhLnN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlQ2hlY2tib3hlcyhkYXRhLnN1Ym1pc3Npb25faWQsIHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0oXCJyb3dcIiwgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIGRhdGEuc3VibWlzc2lvbl9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG93IGRvd25sb2FkIGxpbmtzIHdoZW4gY2hlY2tib3hlcyBoYXZlIGJlZW4gdGlja2VkLlxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXNlQ2hlY2tib3hlcyhzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkKSB7XG4gICAgICAgICAgICB2YXIgaWRlbnRpZmllciA9ICcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94JztcbiAgICAgICAgICAgIGlmIChzdWJtaXNzaW9uX2lkICE9IDApIHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyID0gJ2NoZWNrXycgKyBzdWJtaXNzaW9uX2lkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94JykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoJ3RhYmxlIycgKyBwYXJ0X2lkICsgJyAuc2VsZWN0X2FsbF9jaGVja2JveCcpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgaWRlbnRpZmllciArICcsIC5zZWxlY3RfYWxsX2NoZWNrYm94JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuemlwX2Rvd25sb2FkcycpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlSGlkZGVuWmlwRG93bmxvYWRzKHBhcnRfaWQpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnY2hlY2tlZF96aXBfb3BlbicpLnVuYmluZCgnY2xpY2snKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC56aXBfZG93bmxvYWRzJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2hvdyB0aGUgZGF0ZSBhbmQgbWFya3Mgb3B0aW9ucyBmb3IgdGhlIHJlbGV2YW50IG51bWJlciBvZiBwYXJ0cyB3aGVuIGNyZWF0aW5nL2VkaXRpbmcgYXNzaWdubWVudC5cbiAgICAgICAgZnVuY3Rpb24gc2hvd1BhcnREYXRlc0JveGVzKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPD0gJChcIiNpZF9udW1wYXJ0c1wiKS52YWwoKSkge1xuICAgICAgICAgICAgICAgICAgICAkKCdmaWVsZHNldFtpZCQ9XCJwYXJ0ZGF0ZXMnICsgaSArICdcIl0nKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCdmaWVsZHNldFtpZCQ9XCJwYXJ0ZGF0ZXMnICsgaSArICdcIl0nKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJCgnLnNlbGVjdF9hbGxfY2hlY2tib3gnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoJyMnICsgaWQgKyAnIC5pbmJveF9jaGVja2JveCcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgaWQgKyAnIC56aXBfZG93bmxvYWRzJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoJyMnICsgaWQgKyAnIC5pbmJveF9jaGVja2JveCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBpZCArICcgLnppcF9kb3dubG9hZHMnKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZXR0aW5ncyBwYWdlIHBhcnRzIHdhcm5pbmcuXG4gICAgICAgICQoJ1tpZF49Zml0ZW1faWRfZHRwb3N0XSBzZWxlY3QnKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gR2V0IHBhcnQgaWQgZnJvbSB0aXRsZS5cbiAgICAgICAgICAgIHZhciBkYXRhRWwgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpO1xuICAgICAgICAgICAgdmFyIHBvc3RfZGF0ZSA9IGJ1aWxkVW5peERhdGUoJyNmaXRlbV9pZF9kdHBvc3QnLCBkYXRhRWwuZGF0YSgncGFydElkJykpO1xuXG4gICAgICAgICAgICBpZiAocG9zdF9kYXRlIDwgbW9tZW50KCkudW5peCgpICYmIGRhdGFFbC5kYXRhKCdhbm9uJykgPT0gMSAmJiBkYXRhRWwuZGF0YSgndW5hbm9uJykgPT0gMCAmJiBkYXRhRWwuZGF0YSgnc3VibWl0dGVkJykgPT0gMSkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KE0uc3RyLnR1cm5pdGludG9vbHR3by5hbm9uYWxlcnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBidWlsZFVuaXhEYXRlID0gZnVuY3Rpb24gKGVsLCBwYXJ0X2lkKSB7XG4gICAgICAgICAgICAvLyBPcHRpb24gaWQncy5cbiAgICAgICAgICAgIHZhciBzdGFydCA9IFsnX2RheScsICdfbW9udGgnLCAnX3llYXInLCAnX2hvdXInLCAnX21pbnV0ZSddO1xuXG4gICAgICAgICAgICAkdGhpcyA9ICQoZWwgKyBwYXJ0X2lkKTtcblxuICAgICAgICAgICAgLy8gQnVpbGQgZGF0ZTp0aW1lIHN0cmluZy5cbiAgICAgICAgICAgIHZhciBkYXRlID0gJyc7XG4gICAgICAgICAgICAkLmVhY2goc3RhcnQsIGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgICAgICAgICAgICAgZGF0ZSArPSAkdGhpcy5maW5kKCdbaWQkPScgKyBwYXJ0X2lkICsgdiArICddIG9wdGlvbjpzZWxlY3RlZCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICBpZiAodiA9PT0gJ195ZWFyJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRlICs9ICcgJztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHYgPT09ICdfaG91cicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZSArPSAnOic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2ICE9PSAnX21pbnV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZSArPSAnLSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiBjb252ZXJ0ZWQgbW9tZW50IG9iamVjdC5cbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSwgXCJERC1NTU1NLVlZWVkgaGg6bW1cIikudW5peCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59KShqUXVlcnkpO1xuIl19
